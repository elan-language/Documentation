<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-GB">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link href="referenceManual.css" rel="stylesheet">
<link href="colourScheme.css" rel="stylesheet">
<link href="elanStyle.css" rel="stylesheet">
<title>Elan Reference Manual</title>
</head>
<body>

<!-- <p><img src="Images/ReferenceManual/Pic1.png"  align="MIDDLE" height="255" width="559"></p> -->

<p class="toc_1"><a href="#Punc">Symbols, Keywords, Constants, Methods and Types</a></p>
<p class="toc_2"><a href="#Keyword">Keywords</a></p>
<p class="toc_1"><a href="#h36">Getting started</a></p>
<p class="toc_2"><a href="#h37">Technical platform</a></p>
<p class="toc_2"><a href="#h38">Demo programs</a></p>
<p class="toc_2"><a href="#h39">Changes and additions for Beta 6</a></p>
<p class="toc_2"><a href="#h40">Still to be implemented..</a></p>
<p class="toc_2"><a href="#h41">If you have programmed in another language, the key differences to be aware of&#8230;</a></p>
<p class="toc_1"><a href="#Edit">The Elan editor  &#8211; quick reference</a></p>
<p class="toc_2"><a href="#Keyboard">Navigation &#8211; using the keyboard</a></p>
<p class="toc_2"><a href="#Keyboard">Editing &#8211; using the keyboard</a></p>
<p class="toc_2"><a href="#Mouse">Mouse operation &#8211; quick reference</a></p>
<p class="toc_1"><a href="#InstrSet">Instruction Set</a></p>
<p class="toc_1"><a href="#Express">Expressions</a></p>
<p class="toc_2"><a href="#LitVal">Literal value</a></p>
<p class="toc_2"><a href="#NamVal">Named value</a></p>
<p class="toc_2"><a href="#Oper">Operator</a></p>
<p class="toc_3"><a href="#OperArith">Arithmetic operator</a></p>
<p class="toc_3"><a href="#OperLog">Logical operator</a></p>
<p class="toc_2"><a href="#Func">Function call</a></p>
<p class="toc_2"><a href="#Lambda">Lamdba</a></p>
<p class="toc_1"><a href="#InOut">Input/Output</a></p>
<p class="toc_2"><a href="#PrnTxt">Printing plain text to the Console</a></p>
<p class="toc_2"><a href="#PrnHTML">Print Html to the Console</a></p>
<p class="toc_2"><a href="#h54">Inputting data from the keyboard</a></p>
<p class="toc_2"><a href="#GrBlk">Block graphics</a></p>
<p class="toc_2"><a href="#GrTur">Turtle graphics</a></p>
<p class="toc_2"><a href="#GrVec">Vector graphics</a></p>
<p class="toc_2"><a href="#h58">Reading keys &#8216;on the fly&#8217;</a></p>
<p class="toc_2"><a href="#h59">Reading textual data from a file</a></p>
<p class="toc_2"><a href="#h60">Writing textual data to a file</a></p>
<p class="toc_1"><a href="#Type">Types</a></p>
<p class="toc_2"><a href="#Int">Int</a></p>
<p class="toc_2"><a href="#Float">Float</a></p>
<p class="toc_2"><a href="#Boolean">Boolean</a></p>
<p class="toc_2"><a href="#String">String</a></p>
<p class="toc_1"><a href="#ProcProg">Procedural programming</a></p>
<p class="toc_2"><a href="#Main">Main routine</a></p>
<p class="toc_2"><a href="#h63">Defining named values</a></p>
<p class="toc_2"><a href="#h64">Conditions &amp; selection</a></p>
<p class="toc_2"><a href="#h65">Loops &amp; iteration</a></p>
<p class="toc_2"><a href="#h66">Function and procedures</a></p>
<p class="toc_2"><a href="#Throw">Catching and throwing exceptions</a></p>
<p class="toc_2"><a href="#Random">Generating random numbers</a></p>
<p class="toc_2"><a href="#Comment">Comments</a></p>
<p class="toc_1"><a href="#OOProg">Object-oriented programming</a></p>
<p class="toc_2"><a href="#Class">Class</a></p>
<p class="toc_2"><a href="#ClassAbs">Abstract class</a></p>
<p class="toc_2"><a href="#Interface">Interface</a></p>
<p class="toc_2"><a href="#Inherit">Inheritance</a></p>
<p class="toc_2"><a href="#Prop">Property</a></p>
<p class="toc_2"><a href="#h76">Function method</a></p>
<p class="toc_2"><a href="#h77">Procedure method</a></p>
<p class="toc_1"><a href="#FuncProg">Functional programming</a></p>
<p class="toc_2"><a href="#ExpressIf">If expression</a></p>
<p class="toc_2"><a href="#HoF">Higher order functions (HoFs)</a></p>
<p class="toc_2"><a href="#Record">Working with records</a></p>
<p class="toc_2"><a href="#h82">Generating random numbers within a function</a></p>
<p class="toc_1"><a href="#Test">Tests</a></p>
<p class="toc_1"><a href="#h84">Types</a></p>
<p class="toc_2"><a href="#h85">Int</a></p>
<p class="toc_2"><a href="#h86">Float</a></p>
<p class="toc_2"><a href="#h87">Boolean</a></p>
<p class="toc_2"><a href="#h88">String</a></p>
<p class="toc_2"><a href="#Array">Arrays and Lists</a></p>
<p class="toc_2"><a href="#Dict">Dictionaries</a></p>
<p class="toc_2"><a href="#Tuple">Tuple</a></p>
<p class="toc_2"><a href="#Func">Func</a></p>
<p class="toc_1"><a href="#StdLib">Standard Library</a></p>
<p class="toc_2"><a href="#SAFunc">Standalone functions</a></p>
<p class="toc_2"><a href="#SAProc">Standalone procedures</a></p>
<p class="toc_2"><a href="#MethSys">System methods</a></p>
<p class="toc_2"><a href="#h97">Standard data structures</a></p>
<p class="toc_2"><a href="#HoF">Higher order functions (HoFs)</a></p>
<p class="toc_2"><a href="#MethDot">Dot methods that work on many different Types</a></p>

<h2 id="Punc">Symbols, Keywords, Constants, Methods and Types</h2>

<p>
<table>
<tr><th colspan="3">Punctuation symbols recognised by Elan</th>
</tr>
<tr><td>( )</td>
<td>brackets</td>
<td>used in arithmetic or logical expressions, and to delimit parameters</td>
</tr>
<tr><td>[ ]</td>
<td>square brackets</td>
<td colspan="2">used to delimit a literal <el-code>Array</el-code> or <el-code>Dictionary</el-code>, or for an index or<br>
index-range
</td>
</tr>
<tr><td>{ }</td>
<td>curly braces</td>
<td>used to delimit a literal <el-code>List</el-code> or <el-code>DictionaryImmutable</el-code>, or to define an &#8216;interpolated field&#8217; within a literal <el-code>String</el-code></td>
</tr>
<tr><td>.</td>
<td>dot</td>
<td>used to define fractional number, and to access a method or property using &#8216;dot syntax&#8217;</td>
</tr>
<tr><td>..</td>
<td>double-dot</td>
<td>used to define an index-range</td>
</tr>
<tr><td>,</td>
<td>comma</td>
<td>used to separate items in several different forms of list</td>
</tr>
<tr><td>:</td>
<td>colon</td>
<td>used to define a key-value pair in a literal <el-code>Dictionary</el-code> or <el-code>DictionaryImmutable</el-code></td>
</tr>
<tr><td>+</td>
<td>plus</td>
<td>the addition operator</td>
</tr>
<tr><td>-</td>
<td>minus</td>
<td>the subtraction operator, or negation (unary) operator</td>
</tr>
<tr><td>*</td>
<td>multiply</td>
<td>the multiplication operator</td>
</tr>
<tr><td>/</td>
<td>divide</td>
<td>the division operator. Also used to delimit a literal Regular Expression (RegExp)</td>
</tr>
<tr><td>^</td>
<td>caret</td>
<td>raise-to-the-power-of operator</td>
</tr>
<tr><td>&lt;</td>
<td>less than</td>
<td>comparison operator</td>
</tr>
<tr><td>&gt;</td>
<td>greater than</td>
<td>comparison operator</td>
</tr>
<tr><td>&lt;=</td>
<td>less than or equal to</td>
<td>comparison operator</td>
</tr>
<tr><td>&gt;=</td>
<td>greater than or equal to</td>
<td>comparison operator</td>
</tr>
<tr><td>=&gt;</td>
<td>fat arrow</td>
<td>used in a <el-code>lambda</el-code> to signify &#8216;returns&#8217;</td>
</tr>
<tr><td>_</td>
<td>underscore</td>
<td>only punctuation symbol that may be used within an identifier (name), and can also be used to &#8216;discard&#8217; elements when deconstructing a <el-code>Tuple</el-code></td>
</tr>
<tr><td>"</td>
<td>Double- quotes</td>
<td>the delimiter for a literal <el-code>String</el-code></td>
</tr>
<tr><td>#</td>
<td>hash</td>
<td>signifies a comment</td>
</tr></table>
</p>

<h2 id="Keyword">Keywords recognised by Elan</h2>
<p>Colour key: <el-code><el-kw>keyword</el-kw></el-code> <el-code><el-id>constant</el-id></el-code> <el-code><el-method>method</el-method></el-code> <el-code><el-type>Type</el-type></el-code></p>
<p></p>
<p>Note: &#8216;extension&#8217; means that the function or procedure is called using &#8216;dot syntax&#8217; on a value of the appropriate Type.</p>

<h3>A</h3>
<p><el-code><el-method>abs</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-kw>abstract</el-kw></el-code> &#8211; keyword: see <a href="#ClassAbs">Abstract class</a></p>
<p><el-code><el-method>acos</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>acosDeg</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">) &#8211; </el-code>standalone function</p>
<p><el-code><el-kw>and</el-kw></el-code> &#8211; keyword: see <a href="#OperLog">Logical operators</a></p>
<p><el-code><el-method>any</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>append</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>appendArray</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-kw>as</el-kw></el-code> &#8211; used in a parameter definition: see <span class="Link">Functions and procedures</span></p>
<p><el-code><el-method>asArray</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>asBinary</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>asin</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>asinDeg</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>asIterable</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>asList</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>asRegExp</el-method></el-code><code class="symbol">() &#8211; </el-code>extension function</p>
<p><el-code><el-kw>assert</el-kw></el-code> &#8211; keyword: see <span class="Link">Tests</span></p>
<p><el-code><el-method>asSet</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>asString</el-method></el-code>() &#8211; extension function</p>
<p><el-code><el-method>asUnicode</el-method></el-code><code class="symbol">(</el-code><el-code>character</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>atan</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>atanDeg</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">) &#8211; </el-code> see <a href="#atanDeg">more</a></p>

<h3>B</h3>
<p><el-code><el-type>BaseVG</el-type></el-code> &#8211; Type</p>
<p><el-code><el-kw>be</el-kw></el-code> &#8211; keyword: see <span class="Link">Let statement</span></p>
<p><el-code><el-method>bitAnd</el-method></el-code><code class="symbol">(</el-code><el-code>a, b</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>bitNot</el-method></el-code><code class="symbol">(</el-code><el-code>a</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>bitOr</el-method></el-code><code class="symbol">(</el-code><el-code>a, b</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>bitShiftL</el-method></el-code><code class="symbol">(</el-code><el-code>a</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>bitShiftR</el-method></el-code><code class="symbol">(</el-code><el-code>a</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>bitXor</el-method></el-code><code class="symbol">(</el-code><el-code>a, b</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-id>black</el-id></el-code> &#8211; constant (Int)</p>
<p><el-code><el-type>BlockGraphics</el-type></el-code> &#8211; Type</p>
<p><el-code><el-id>blue</el-id></el-code> &#8211; constant (Int)</p>
<p><el-code><el-id>brown</el-id></el-code> &#8211; constant (Int)</p>

<h3>C</h3>
<p><el-code><el-kw>call</el-kw></el-code> &#8211; keyword: see <span class="Link">Procedure</span></p>
<p><el-code><el-kw>catch</el-kw></el-code> &#8211; keyword: see <span class="Link">Catching and throwing exceptions</span></p>
<p><el-code><el-method>ceiling</el-method></el-code><code class="symbol">(number)</el-code> &#8211; extension function</p>
<p><el-code><el-type>CircleVG</el-type></el-code> &#8211; Type</p>
<p><el-code><el-kw>class</el-kw></el-code> &#8211; keyword, see <span class="Link">Class</span></p>
<p><el-code><el-method>clearConsole</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone procedure</p>
<p><el-code><el-method>clearGraphics</el-method></el-code><code class="symbol">() &#8211; </el-code>extension procedure</p>
<p><el-code><el-method>clearKeyBuffer</el-method></el-code><code class="symbol">()</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>clock</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone system method</p>
<p><el-code><el-id>closeBrace</el-id></el-code> &#8211; constant (String)</p>
<p><el-code><el-kw>constant</el-kw></el-code> &#8211; keyword, see <a href="#Constant">Constant</a></p>
<p><el-code><el-kw>constructor</el-kw></el-code> &#8211; keyword, see <span class="Link">Class</span></p>
<p><el-code><el-method>contains</el-method></el-code><code class="symbol">(</el-code><el-code>item</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>copy</el-kw></el-code> &#8211; keyword, see <span class="Link">Working with records</span></p>
<p><el-code><el-method>cos</el-method></el-code><code class="symbol">(</el-code><el-code>radians</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>cosDeg</el-method></el-code><code class="symbol">(</el-code><el-code>degrees</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>createArray</el-method></el-code><code class="symbol">(</el-code><el-code>size, initialValue</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>createArray2D</el-method></el-code><code class="symbol">(</el-code><el-code>columns, rows, initialValue</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>createFileForWriting</el-method></el-code><code class="symbol">(</el-code><el-code>fileName</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>

<h3>D</h3>
<p><el-code><el-method>degToRad</el-method></el-code><code class="symbol">(</el-code><el-code>degrees</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-kw>div</el-kw></el-code> &#8211; keyword, see <span class="Link">Arithmetic operators</span></p>

<h3>E</h3>
<p><el-code><el-kw>each</el-kw></el-code> &#8211; keyword, see <span class="Link">Each loop</span></p>
<p><el-code><el-type>ElanSet</el-type></el-code> &#8211; Type</p>
<p><el-code><el-kw>else</el-kw></el-code> &#8211; keyword, see <span class="Link">If statement</span> and <span class="Link">If expression</span></p>
<p><el-code><el-kw>empty</el-kw></el-code> &#8211; keyword, creates the empty value of a specified Type. See e.g. <span class="Link">Arrays and Lists</span></p>
<p><el-code><el-kw>end</el-kw></el-code> &#8211; keyword, (followed by another keyword) defines the end of a multi-line construct</p>
<p><el-code><el-kw>enum</el-kw></el-code> &#8211; keyword, see <a href="#Enum_1">Enum</a></p>
<p><el-code><el-kw>exception</el-kw></el-code> &#8211; keyword, see <a href="#Try_statement">Try statement</a><span class="Link"> </span>and </p>
<p><el-code><el-method>exp</el-method></el-code><code class="symbol">(x)</el-code> &#8211; standalone function</p>

<h3>F</h3>
<p><el-code><el-id>false</el-id></el-code> &#8211; constant (Boolean)</p>
<p><el-code><el-method>filter</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>floor</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>for</el-kw></el-code> &#8211; keyword, see <span class="Link">For loop</span></p>
<p><el-code><el-kw>from</el-kw></el-code> &#8211; keyword, see <span class="Link">For loop</span></p>
<p><el-code><el-kw>function</el-kw></el-code> &#8211; keyword, see <span class="Link">Function </span>and <span class="Link">Passing a function as a referenc</span></p>

<h3>G</h3>
<p><el-code><el-method>getKey</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>getKeyWithModifier</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone system method</p>
<p><el-code><el-kw>global</el-kw></el-code> &#8211; keyword, see <span class="Link">Scoping and name qualification</span> </p>
<p><el-code><el-type>GraphicsBase</el-type></el-code> &#8211; Type</p>
<p><el-code><el-id>green</el-id></el-code> &#8211; constant (Int)</p>
<p><el-code><el-id>grey</el-id></el-code> &#8211; constant (Int)</p>

<h3>H</h3>
<p><el-code><el-method>hasKey</el-method></el-code><code class="symbol">(</el-code><el-code>key</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>head</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>

<h3>I</h3>
<p><el-code><el-kw>if</el-kw></el-code> &#8211; keyword, see <span class="Link">If statement</span> and <span class="Link">If expression</span></p>
<p><el-code><el-kw>ignore</el-kw></el-code> &#8211; keyword, see <span class="Link">Tests</span></p>
<p><el-code><el-kw>import</el-kw></el-code> &#8211; (Not yet implemented)</p>
<p><el-code><el-kw>in</el-kw></el-code> &#8211; keyword, see <span class="Link">Each loop</span></p>
<p><el-code><el-method>indexOf</el-method></el-code><code class="symbol">(</el-code><el-code>targetString</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>indexOfItem</el-method></el-code><code class="symbol">(</el-code><el-code>targetItem</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>inherits</el-kw></el-code> &#8211; keyword, see <a href="#Inheritance">Inheritance</a></p>
<p><el-code><el-method>inputFloat</el-method></el-code><code class="symbol">(</el-code><el-code>prompt</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputFloatBetween</el-method></el-code><code class="symbol">(</el-code><el-code>prompt, minValue, maxValue</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputInt</el-method></el-code><code class="symbol">(</el-code><el-code>prompt</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputIntBetween</el-method></el-code><code class="symbol">(</el-code><el-code>prompt, minValue, maxValue</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputString</el-method></el-code><code class="symbol">(</el-code><el-code>prompt</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputStringFromOptions</el-method></el-code><code class="symbol">(</el-code><el-code>prompt</el-code><code class="symbol">, </el-code><el-code>options</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>inputStringWithLimits</el-method></el-code><code class="symbol">(</el-code><el-code>prompt, minLength, maxLength</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>insertAt</el-method></el-code><code class="symbol">(</el-code><el-code>index</el-code><code class="symbol">, </el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-kw>interface</el-kw></el-code><el-code> </el-code>&#8211; keyword, see <span class="Link">Interface</span></p>
<p><el-code><el-kw>is</el-kw></el-code> &#8211; keyword, see <span class="Link">Equality testing</span></p>
<p><el-code><el-method>isAfter</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>isAfterOrSameAs</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>isBefore</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>isBeforeOrSameAs</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>isnt</el-kw></el-code> &#8211; keyword, see <span class="Link">Equality testing</span></p>

<h3>J</h3>
<p><el-code><el-method>joinArrayElements</el-method></el-code><code class="symbol">(</el-code><el-code>separator</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>joinListElements</el-method></el-code><code class="symbol">(</el-code><el-code>separator</el-code><code class="symbol">)</el-code> &#8211; extension function</p>

<h3>K</h3>
<p><el-code><el-method>keys</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>

<h3>L</h3>
<p><el-code><el-kw>lambda</el-kw></el-code> &#8211; keyword, see <span class="Link">Lambda</span></p>
<p><el-code><el-method>length</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-kw>let</el-kw></el-code> &#8211; keyword, see <a href="#Let_statement">Let statement</a></p>
<p>&#8211; keyword, see <span class="Link">Scoping and name qualification</span> </p>
<p><el-code><el-type>LineVG</el-type></el-code> &#8211; Type</p>
<p><el-code><el-method>log10</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>log2</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>logE</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>lowerCase</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>

<h3>M</h3>
<p><el-code><el-kw>main</el-kw></el-code> &#8211; keyword, see <span class="Link">Main routine</span></p>
<p><el-code><el-method>map</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>max</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>maxBy</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>min</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-method>minBy</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>mod</el-kw></el-code> &#8211; keyword, see <span class="Link">Arithmetic operators</span></p>

<h3>N</h3>
<p><el-code><el-kw>new</el-kw></el-code> &#8211; keyword, see <span class="Link">Using a class</span></p>
<p><el-code><el-kw>not</el-kw></el-code> &#8211; keyword, see <span class="Link">Logical operators</span></p>

<h3>O</h3>
<p><el-code><el-kw>of</el-kw></el-code> &#8211; keyword, used to define Types of elements, see <span class="Link">Arrays and Lists</span> <span class="Link">Dictionaries</span> <span class="Link">Func</span> </p>
<p><el-code><el-method>openFileForReading</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone system method</p>
<p><el-code><el-id>openBrace</el-id></el-code> &#8211; constant (String)</p>
<p><el-code><el-kw>or</el-kw></el-code> &#8211; keyword, see <span class="Link">Logical operators</span></p>
<p><el-code><el-kw>out</el-kw></el-code> &#8211; keyword, see <a href="#Parameter_passing_1">Parameter passing</a></p>

<h3>P</h3>
<p><el-code><el-method>parseAsFloat</el-method></el-code><code class="symbol">(</el-code><el-code>string</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>parseAsInt</el-method></el-code><code class="symbol">(</el-code><el-code>string</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>pause</el-method></el-code><code class="symbol">(</el-code><el-code>milliseconds</el-code><code class="symbol">)</el-code> &#8211; standalone procedure</p>
<p><el-code><el-id>pi</el-id></el-code> &#8211; constant (Float)</p>
<p><el-code><el-method>prepend</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>prependArray</el-method></el-code><code class="symbol">(</el-code><el-code>other</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-kw>print</el-kw></el-code> &#8211; keyword, see <span class="Link">Input/Output</span></p>
<p><el-code><el-method>printLine</el-method></el-code><code class="symbol">(</el-code><el-code>text</el-code><code class="symbol">)</el-code> &#8211; standalone procedure</p>
<p><el-code><el-method>printNoLine</el-method></el-code><code class="symbol">(</el-code><el-code>text</el-code><code class="symbol">)</el-code> &#8211; standalone procedure</p>
<p><el-code><el-method>printTab</el-method></el-code><code class="symbol">(</el-code><el-code>position,</el-code><code class="symbol"> </el-code><el-code>text</el-code><code class="symbol">)</el-code> &#8211; standalone procedure</p>
<p><el-code><el-kw>private</el-kw></el-code> &#8211; keyword, see <span class="Link">Object-oriented programming</span></p>
<p><el-code><el-kw>procedure</el-kw></el-code> &#8211; keyword, see <span class="Link">Functions and procedures</span></p>
<p><el-code><el-kw>property</el-kw></el-code> &#8211; keyword, see <span class="Link">Property</span></p>
<p><el-code><el-method>putAt</el-method></el-code><code class="symbol">(</el-code><el-code>index, value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>putAt2D</el-method></el-code><code class="symbol">(</el-code><el-code>column, row</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>putAtKey</el-method></el-code><code class="symbol">(</el-code><el-code>key, value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>

<h3>Q<el-code><el-type> </el-type></el-code></h3>
<p><el-code><el-type>Queue</el-type></el-code> &#8211; Type</p>
<p><el-code><el-id>quotes</el-id></el-code> &#8211; constant (String)</p>

<h3>R</h3>
<p><el-code><el-method>radToDeg</el-method></el-code><code class="symbol">(</el-code><el-code>radians</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-type>Random</el-type></el-code> &#8211; Type</p>
<p><el-code><el-method>random</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>randomInt</el-method></el-code><code class="symbol">(</el-code><el-code>low, high</el-code><code class="symbol">)</el-code> &#8211; standalone system method</p>
<p><el-code><el-method>range</el-method></el-code><code class="symbol">(</el-code><el-code>start, end</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-kw>record</el-kw></el-code> &#8211; keyword, see <span class="Link">Working with records</span></p>
<p><el-code><el-type>RectangleVG</el-type></el-code> &#8211; Type</p>
<p><el-code><el-id>red</el-id></el-code> &#8211; constant (Int)</p>
<p><el-code><el-method>reduce</el-method></el-code><code class="symbol">(</el-code><el-code>initialValue, lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>ref</el-kw></el-code> &#8211; keyword, see <span class="Link">Passing a function as a reference</span>Repeat loop</p>
<p><el-code><el-method>removeAll</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>removeAt</el-method></el-code><code class="symbol">(</el-code><el-code>index</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>removeAtKey</el-method></el-code><code class="symbol">(</el-code><el-code>key</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-method>removeFirst</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension procedure</p>
<p><el-code><el-kw>repeat</el-kw></el-code> &#8211; keyword, see <span class="Link">Repeat loop</span></p>
<p><el-code><el-method>replace</el-method></el-code><code class="symbol">(</el-code><el-code>match,</el-code><code class="symbol"> </el-code><el-code>replacement</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-kw>return</el-kw></el-code> &#8211; keyword, last statement within a function &#8211; see <span class="Link">Function</span></p>
<p><el-code><el-kw>returns</el-kw></el-code> &#8211; keyword, defines the return Type in a function signature &#8211; see <span class="Link">Function</span></p>
<p><el-code><el-method>round</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">, </el-code><el-code>decimalPlaces</el-code><code class="symbol">)</el-code> &#8211; extension function</p>

<h3>S</h3>
<p><el-code><el-kw>set</el-kw></el-code> &#8211; keyword, see <a href="#Variables">Variables</a></p>
<p><el-code><el-type>Set</el-type></el-code> &#8211;  Type</p>
<p><el-code><el-method>sin</el-method></el-code><code class="symbol">(</el-code><el-code>radians</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>sinDeg</el-method></el-code><code class="symbol">(</el-code><el-code>degrees</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>sortBy</el-method></el-code><code class="symbol">(</el-code><el-code>lambdaOrFunctionRef</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>split</el-method></el-code><code class="symbol">(</el-code><el-code>separator</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>sqrt</el-method></el-code><code class="symbol">(</el-code><el-code>number</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-type>Stack</el-type></el-code> &#8211; Type</p>
<p><el-code><el-kw>step</el-kw></el-code> &#8211; keyword, see <span class="Link">For loop</span></p>

<h3>T</h3>
<p><el-code><el-method>tan</el-method></el-code><code class="symbol">(</el-code><el-code>radians</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>tanDeg</el-method></el-code><code class="symbol">(</el-code><el-code>degrees</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-kw>test</el-kw></el-code> &#8211; keyword, see <span class="Link">Tests</span></p>
<p><el-code><el-method>testRegExp</el-method></el-code><code class="symbol">(</el-code><el-code>regExp</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-type>TextFileReader</el-type></el-code> &#8211; Type</p>
<p><el-code><el-type>TextFileWriter</el-type></el-code> &#8211; Type</p>
<p><el-code><el-kw>then</el-kw></el-code> &#8211; keyword, see <span class="Link">If statement</span> and <span class="Link">If expression</span></p>
<p><el-code><el-kw>this</el-kw></el-code> &#8211; keyword, see <span class="Link">Object-oriented programming</span></p>
<p><el-code><el-kw>throw</el-kw></el-code> &#8211; keyword, see <span class="Link">Catching and throwing exceptions</span></p>
<p><el-code><el-kw>to</el-kw></el-code> &#8211; keyword, see <span class="Link">For loop</span></p>
<p><el-code><el-method>trim</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-id>true</el-id></el-code> &#8211; constant (Boolean)</p>
<p><el-code><el-kw>try</el-kw></el-code> &#8211; keyword, see <span class="Link">Catching and throwing exceptions</span></p>
<p><el-code><el-kw>tuple</el-kw></el-code><span class="Link"> </span> &#8211;keyword, see <a href="#Tuple">Tuple</a></p>
<p><el-code><el-type>Turtle</el-type></el-code> &#8211; Type</p>

<h3>U</h3>
<p><el-code><el-method>unicode</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; standalone function</p>
<p><el-code><el-method>upperCase</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>

<h3>V</h3>
<p><el-code><el-method>values</el-method></el-code><code class="symbol">()</el-code> &#8211; extension function</p>
<p><el-code><el-kw>variable</el-kw></el-code> &#8211; keyword, see <a href="#Variables">Variables</a></p>
<p><el-code><el-type>VectorGraphics</el-type></el-code> &#8211; Type</p>

<h3>W, X, Y, Z</h3>
<p><el-code><el-method>waitForAnyKey</el-method></el-code><code class="symbol">()</el-code> &#8211; standalone procedure</p>
<p><el-code><el-kw>while</el-kw></el-code> &#8211; keyword, see <span class="Link">While loop</span></p>
<p><el-code><el-id>white</el-id></el-code> &#8211; constant (Int)</p>
<p><el-code><el-kw>with</el-kw></el-code> &#8211; keyword, see <span class="Link">Working with records</span></p>
<p><el-code><el-method>withInsertAt</el-method></el-code><code class="symbol">(</el-code><el-code>index</el-code><code class="symbol">, </el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withPutAt</el-method></el-code><code class="symbol">(</el-code><el-code>index</el-code><code class="symbol">, </el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withPutAtKey</el-method></el-code><code class="symbol">(</el-code><el-code>key</el-code><code class="symbol">, </el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withRemoveAll</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withRemoveAt</el-method></el-code><code class="symbol">(</el-code><el-code>index</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withRemoveAtKey</el-method></el-code><code class="symbol">(</el-code><el-code>key</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-method>withRemoveFirst</el-method></el-code><code class="symbol">(</el-code><el-code>value</el-code><code class="symbol">)</el-code> &#8211; extension function</p>
<p><el-code><el-id>yellow</el-id></el-code> &#8211; constant (Int)</p>
<p></p>

<h1 id="h36">Getting started</h1>

<h2 id="h37">Technical platform</h2>
<p>You can access the Elan Beta <a href="https://elan-lang.org/beta/">here</a>.</p>
<p>Elan is designed to run within the Chrome browser; correct operation within other browsers is not guaranteed. </p>

<h2 id="h38">Demo programs </h2>
<p>The Beta version includes a Demo button that offers a menu of demonstration programs which you can run:</p>
<p><img src="Images/ReferenceManual/Pic9.png"  align="MIDDLE" height="221" width="278"></p>
<p>The best way to get started with Elan is to explore these demo programs. You can edit any of them and save your own copy locally. </p>

<h2 id="h39">Changes and additions for Beta 6</h2>

<h3>Changes to language and standard library that could break existing code</h3>
<p>Both the syntax and the layout for the following constructs have changed:</p>
<li><el-code>if</el-code> statement. See <span class="Link">If statement</span></li>
<li><el-code>try</el-code> Statement. See <span class="Link">Catching and throwing exceptions</span></li>
<p>The <el-code>switch</el-code> statement has been removed entirely. The improved <el-code>if</el-code> statement means that the <el-code>switch</el-code> statement no longer offered any advantages over using a series of <el-code>else if</el-code> clauses.</p>
<p>There have been significant changes to object-oriented programming, including:</p>
<li>For a concrete <el-code>class</el-code>, defining a <el-code>constructor</el-code> is now optional.</li>
<li>A concrete <el-code>class</el-code> may now inherit from only one <el-code>abstract class</el-code>.</li>
<li>An <el-code>abstract class</el-code> may now define both public and <el-code>private</el-code> concrete properties and methods (as well as abstract properties and methods).</li>
<li>Elan now has the concept of an <el-code>interface</el-code> &#8211; like an <el-code>abstract class</el-code> but defining only abstract members, and with the advantage that a concrete<el-code> class</el-code> may inherit from any number of i<el-code>nterface</el-code>s (plus, optionally, one <el-code>abstract class</el-code>).</li>
<li>An <el-code>abstract class</el-code> cannot now inherit from another <el-code>abstract class</el-code>, but it may inherit from one or more <el-code>interface</el-code>s.</li>

<h2 id="h40">Still to be implemented..</h2>
<p>The following lists a few of the stand-out items that are not yet implemented. For a much longer list you are welcome to browse all the open items on our development project planning system on Github at: <a href="https://github.com/elan-language/IDE/issues">https://github.com/elan-languageAndIDE/issues</a>. However, please bear in mind that those items are written by and for the development team, rather than for public discussion.</p>

<h3>Editor</h3>
<li>Debugger. Ability to insert breakpoints, pause, single-step, and read the state of variables.</li>
<li>Navigate directly from use of an identifier to its definition.</li>
<li>Renaming of identifiers (variables, constants, parameters, function and procedure names).</li>
<li>Profile configuration (exists as a proof of concept only at present). In future release you will be able to define multiple profiles and then assign a profile to each user name.</li>
<li>Ability to switch-on anti-plagiarism option (exists as a proof of concept only at present).</li>
<li>Ability to perform all navigation and actions by keyboard or mouse (except entering code into fields, which must be done through the keyboard).</li>

<h2 id="h41">If you have programmed in another language, the key differences to be aware of&#8230;</h2>

<h3>Types</h3>
<li>Elan is a statically typed language. Basic Types are <el-code>Int</el-code>, <el-code>Float</el-code>, <el-code>Boolean</el-code>, and <el-code>String</el-code><el-code>.</el-code> There are ready-made data structures as Types <el-code>Array</el-code>, <el-code>List</el-code>, <el-code>Dictionary</el-code>. Elan supports user-defined <el-code>class</el-code>es and <el-code>enum</el-code>s, and there are several ready-made classes in the standard library such as <el-code>BlockGraphics</el-code>, <el-code>File</el-code>, <el-code>Set</el-code>, <el-code>Stack</el-code>, <el-code>Queue</el-code>, <el-code>Tree</el-code>, <el-code>Graph</el-code> &#8230; (only the first of these is in the Beta 6). </li>

<h3 id="Vars">Variables</h3>
<li>Variables are defined by the <el-code>variable </el-code>statement, and re-assigned with a <el-code>set</el-code> statement.</li>
<li>Variable names (indeed all names in Elan) must begin with a lower-case letter.</li>
<li>Variables must be initialised with a literal value or an expression that yields a value, and the Type of that value determines the Type of the variable.</li>
<li>There is no such thing as a global variable in Elan. Variables are defined within <el-code>main</el-code>, or within a <el-code>function</el-code> or <el-code>procedure</el-code> and are visible only within that scope.</li>

<h3 id="Const">Constants</h3>
<li>A <el-code>constant</el-code> is only ever defined at global level and is <el-code>set to</el-code> a literal value of an immutable Type: for example any of the four basic Types or a <el-code>List</el-code>, but not an <el-code>Array</el-code> (see below).</li>

<h3 id="Let_statement_1">Let statement</h3>
<li>A <el-code>let</el-code> statement may be thought of as being between a constant and a variable. Like a variable a <el-code>let</el-code> may be defined only within a routine, but unlike a variable it may not be re-assigned once defined. It is recommended that you always use a <el-code>let</el-code> in preference to a <el-code>variable </el-code>unless you need to be able to assign a new value to it.</li>

<h3>Arrays</h3>
<li>An <el-code>Array</el-code> is a mutable data structure &#8211; as it is in most languages.</li>
<li>It may be initialised to a specific size, with each element set to an initial value (e.g. 0 for an <el-code>Int</el-code> or <el-code>Float</el-code>), but it may also be extended dynamically with the <el-code>append</el-code><el-code> </el-code>and<el-code> prepend</el-code> methods.</li>
<li>A 2D Array may also be created, accessed with a double index e.g. <el-code>a[2][3</el-code>]. See also <a href="#2-dimensional_Array">2-dimensional Array</a>.</li>

<h3>Testing for equality</h3>
<li>Elan tests for equality by value (not equality by reference) using the keywords <el-code>is</el-code> (for example <el-code>if x is y</el-code>) and <el-code>isnt</el-code>. The comparisons, <el-code>&gt;</el-code>, <el-code>&lt;</el-code>. <el-code>&gt;=</el-code>, <el-code>&lt;=</el-code> apply to numeric Types (<el-code>Int</el-code> and <el-code>Float</el-code>) only. (There are methods for <el-code>String</el-code> comparison &#8211; see <span class="Link">Dot methods on a String</span> )</li>

<h3>Methods</h3>
<li>There are several types of method in Elan: standalone function, standalone procedure, instance function and instance procedure (both defined on a class), and system methods. These are expanded on below. </li>
<li>Elan does not support overloaded method names (methods with the same name, but different number or Type of parameters). Every free-standing method must have a unique name distinct also from those in the standard library. Instance methods must be unique within a class, though the same name may be used within different classes.</li>

<h3>Function</h3>
<li>An Elan function (whether standalone or an instance method on a class) must be a pure function. That is, it must return a value that is derived, solely and deterministically, from the arguments supplied as parameters. A function contains one, and only one, <el-code>return</el-code> statement which must be the last (or only) statement in the function body.</li>
<li>A function may not generate side-effects, for example it may not:</li>
<li>Contain any <el-code>print</el-code> statements</li>
<li>Use any system method within its expressions</li>
<li>Make a <el-code>call</el-code> to any procedure (since procedures are not pure)</li>
<li>Assign to or mutate any parameter</li>

<h3>Procedure</h3>
<li>An Elan <el-code>procedure</el-code> may be thought of as a &#8216;command&#8217;. Like a <el-code>function</el-code> it may define parameters but it does not return a value. This is because a <el-code>procedure</el-code> necessarily makes changes: changes to one or more of the parameters (if the parameter definition is prefixed by <el-code>out</el-code>), and/or changes to the system by calling <el-code>print</el-code> or any of the system methods.</li>
<li>A <el-code>procedure</el-code> exits after executing the last statement in the body. There is (deliberately) no mechanism to exit &#8216;early&#8217;, thereby enforcing structured programming.</li>
<li>A <el-code>procedure</el-code> is always executed via a <el-code>call</el-code> statement, either standalone, or as a &#8216;dot method&#8217; on a named instance.</li>

<h3>System method</h3>
<li>System methods are all defined as part of the standard Elan library. Some are like <el-code>procedure</el-code>s, returning no value, and are hence executed via the <el-code>call</el-code> statement. Others are similar to <el-code>function</el-code>s in that they return a value and are evaluated within an expression. However, unlike <el-code>function</el-code>s these system methods either have side-effects or external dependencies (or both). For that reason, no system method &#8211; whether resembling a <el-code>procedure</el-code> or a <el-code>function</el-code> &#8211; may be used within a user-defined <el-code>function</el-code> (or within a <el-code>test</el-code>). They may only be used within <el-code>main</el-code> or within a <el-code>procedure</el-code>.</li>

<h3>Object-oriented techniques</h3>
<li>The name given to a <el-code>class</el-code> must follow the rules for any Type name i.e. it must start with an upper-case letter.</li>
<li>Every (concrete) class has a <el-code>constructor</el-code>, which is automatically added when you define a <el-code>class</el-code>. But it is not essential to define any code within that constructor. </li>
<li>A property may be assigned (set) a new value within the <el-code>constructor</el-code>, or within a <el-code>procedure</el-code> method defined on the class or the sub-class. But a property may never be assigned by code outside the class. If you require this capability, you can write your own <el-code>procedure</el-code> methods (commonly called &#8216;setter&#8217; methods) to do this. A <el-code>function</el-code> method may read properties, but not write to them.</li>
<p>
Whenever you wish to access a property from within a method (or from within the constructor) on the same class, then the name of the property must be prefixed with the &#8216;qualifier&#8217; <el-code>property. </el-code>(&#8216;property-dot&#8217;). This applies whether you are reading or setting the property. By this means you can have a method parameter with the same name as a property, but they are unambiguous because the property must be prefixed. A common pattern is to use the same name in a &#8216;setter&#8217; method, for example:<br>
<el-code><br>
procedure setName(name as String)<br>
&nbsp;&nbsp;set property.name to name<br>
end procedure
</el-code><br>
<li>The <el-code>property.</el-code> qualifier is neither required, nor allowed, when accessing a property on an instance of the class, because the instance name acts as the qualifier.</li>
<li>A concrete <el-code>class</el-code> may inherit from one or more <el-code>abstract</el-code> <el-code>class</el-code>es, but may not inherit from another concrete <el-code>class</el-code>. This enforces the widely-recognised OOP design principle that &#8216;all classes should be abstract or final (not inheritable)&#8217;.</li>
<li>An <el-code>abstract class</el-code> may define abstract members (<el-code>property</el-code>, <el-code>function</el-code>, <el-code>procedure</el-code>), which must always be implemented by any concrete sub-class. It may also define private members (<el-code>property</el-code>, <el-code>function</el-code>, <el-code>procedure</el-code>), which are visible to any concrete sub-class, but not visible from code outside the class hierarchy. </li>

<h3>Functional techniques</h3>
<li>Elan has strong support for the functional programming paradigm, building on the foundation of its rigorous definition of a <el-code>function</el-code>. In addition:</li>
<li>The standard library defines several &#8216;higher-order functions&#8217; (HoFs) including <el-code>map</el-code>, <el-code>filter</el-code> and <el-code>reduce</el-code> that apply to any Type that is &#8216;iterable&#8217; (including <el-code>String</el-code>, <el-code>Array</el-code> and <el-code>List</el-code>).</li>
<li>Any user-defined or standard library function may be passed as an argument into a parameter, or associated with a name using a <el-code>variable </el-code>or <el-code>let</el-code> statement, by preceding the name of the function with the keyword <el-code>function</el-code>.</li>
<li>You may also define a <el-code>lambda</el-code>, inline as an argument in a function call, or assigned to a named value.</li>
<li>Although pure functions, including HoFs, may work with mutable data structures (without actually mutating them), immutable data structures are considered a better fit for functional programming. Elan provides many immutable standard data structures, including <el-code>String</el-code> (immutable in most languages) and <el-code>List</el-code> (in contrast to many languages), and <el-code>record</el-code> which is like an immutable form of a <el-code>class</el-code> without encapsulated methods.</li>
<p class="heading_1">
<h2 id="Edit">The Elan editor &#8211; quick reference</a></p>

<h2 id="Keyboard">Navigation &#8211; using the keyboard</h2>
<p>Note: For Apple Mac users: commands use of the Ctrl key in this reference, should be replaced by the macOS Cmd key.</p>
<p>
<table>
<tr><th>Keystroke</th>
<th>On a selected Frame</th>
<th>On a selected Field</th>
</tr>
<tr><td>Home</td>
<td>First peer-level frame.</td>
<td>Move text cursor to start of field.</td>
</tr>
<tr><td>End</td>
<td>Last peer-level frame.</td>
<td>Move text cursor to end of field.</td>
</tr>
<tr><td>Tab</td>
<td>First field in frame.</td>
<td>Select next field within frame or, if from last field in a frame, select the frame itself.<br>
(If the field has a selected option in the auto-complete popup list then Tab will use that option &#8211; the same as Enter)
</td>
</tr>
<tr><td>>&uarr;</td>
<td>Select previous frame <br>
(within peer-level only).
</td>
<td>Select previous frame<br>
&nbsp;(in tab order).
</td>
</tr>
<tr><td>&darr;</td>
<td>Select next frame<br>
(within peer-level only).
</td>
<td>Select next frame<br>
&nbsp;(in tab order).
</td>
</tr>
<tr><td>&larr;</td>
<td>Select parent frame (if any).</td>
<td>Move text cursor left within field.</td>
</tr>
<tr><td>&rarr;</td>
<td>Select first child frame (if any).</td>
<td>Move text cursor right within field.</td>
</tr>
<tr><td>Shift-&uarr;</td>
<td>Add prev. frame (peer-level) to current selection.</td>
<td>If auto-complete options are offered (drop-down list), move the selection down one in the list. (See also Enter)</td>
</tr>
<tr><td>Shift-&darr;</td>
<td>Add next frame (peer-level) to current selection.</td>
<td>If auto-complete options are offered (drop-down list), move the selection up one in the list. (See also Enter)</td>
</tr>
<tr><td>Esc</td>
<td>Escape from the code editor, and put focus on the first Button in the IDE</td>
</tr>
<tr><td>Ctrl-o</td>
<td>Toggle (expand/collapse) outlining on selected frame.</td>
<td>Toggle (expand/collapse) outlining on the frame enclosing this field.</td>
</tr>
<tr><td align="center">Ctrl-O <br>
(Ctrl-Shift-o)
</td>
<td>Toggle (expand/collapse) outlining on all frames.</td>
<td>Toggle (expand/collapse) outlining on all frames.</td>
</tr></table>
</p>

<h2>Editing &#8211; using the keyboard</h2>
<p>
<table>
<tr><th>Keystroke</th>
<th>On a selected Frame</th>
<th>On a selected Field</th>
</tr>
<tr><td>Alt-t</td>
<td align="center" colspan="2">Remove all &#8216;new code&#8217; selections that can be removed.<br>
This is equivalent to clicking on the Trim button. <br>
(This cannot be Ctrl-t as that is defined and executed by the browser).
</td>
</tr>
<tr><td>Backspace</td>
<td>On any &#8216;new code&#8217; selector: delete the selector. (Note that all &#8216;new code&#8217; selectors can be removed with the +/- button above the code pane).<br>
<br>
On a new, unmodified, frame, or from any unedited field within that new frame: delete the whole frame and go back to the selector. This capability is to facilitate deleting a frame created unintentionally. As soon as any field has been edited, or any child frame added &#8211; the frame can only be deleted using Ctrl-Delete (see below).
</td>
<td>Delete character to the left of the cursor.</td>
</tr>
<tr><td>Delete</td>
<td></td>
<td>Delete the character to the right of the cursor.</td>
</tr>
<tr><td align="center">Ctrl-Delete or<br>
Ctrl-d
</td>
<td>Delete the selected frame, including any frames within it.</td>
<td></td>
</tr>
<tr><td>Enter</td>
<td>Insert a selector-frame (&#8216;new code&#8217;) below selected, at peer level &#8211; if permissible.</td>
<td>If auto-complete options are offered (as a drop-down list), enter the selected option into the field.<br>
<br>
Otherwise, move to the next field (in the same frame) &#8211; like Tab. <br>
<br>
For last field in frame only: insert &#8216;new code&#8217; after this field.
</td>
</tr>
<tr><td>Shift-Enter</td>
<td>Insert a selector-frame (&#8216;new code&#8217;) above selected, at peer level &#8211; if permissible</td>
<td>-</td>
</tr>
<tr><td>Ctrl- _</td>
<td>Move selected frame(s) up, within peer level.</td>
<td>-</td>
</tr>
<tr><td>Ctrl- _</td>
<td>Move selected frame(s) down, within peer level.</td>
<td>-</td>
</tr>
<tr><td>Ctrl- _</td>
<td></td>
<td>Move the cursor to the end of the next &#8216;word&#8217; or other transition</td>
</tr>
<tr><td>Ctrl- _</td>
<td></td>
<td>Move the cursor to the end of the next &#8216;word&#8217; or other transition</td>
</tr>
<tr><td>Ctrl-x</td>
<td>Cut selected frame(s) into the scratchpad</td>
<td>Cut any selected text from the field</td>
</tr>
<tr><td>Ctrl-v</td>
<td>-</td>
<td>Paste text from the clipboard into the field, at the cursor.<br>
<br>
On a selected &#8216;new code&#8217; field: Paste the frame(s) added to the scratchpad in place of the &#8216;new code&#8217; field. If any of the frames to be added is not compatible with the content of the &#8216;new code&#8217; field then no action will take place.
</td>
</tr>
<tr><td>Ctrl-z</td>
<td>Undo last edit<br>
Takes you back to the next most recent version <span>that parsed successfully.<br>
</span>Any changes made that did not result in a successful parse will be lost.
</td>
<td></td>
</tr>
<tr><td>Ctrl-y</td>
<td>Redo last undo<br>
provided that the code you undid from was parsing successfully
</td>
<td></td>
</tr>
<tr><td>Ctrl-p</td>
<td>Toggle the <el-code>private</el-code> status of members <el-code>property</el-code>, <el-code>function</el-code> or <el-code>procedure</el-code> of a <el-code>class</el-code></td>
<td></td>
</tr>
<tr><td>Ctrl-i</td>
<td>Toggle the <el-code>ignore</el-code> setting of a <el-code>test</el-code></td>
<td></td>
</tr></table>
</p>

<h2 id="Mouse">Mouse operation &#8211; quick reference</h2>
<li>To select a frame, click on the keyword at the start the frame. (You can successfully click in several other places within the frame, but the simplest rule to remember is click on the starting keyword).</li>
<li>To select an additional frame (&#8216;multi-select&#8217;), hold down the Shift key on the keyboard and click on the frame to add to the current selection. Note that all the multi-selected frames must be at peer-level (the same level of indentation) and, unless global frames, must be within the same &#8216;parent&#8217; frame.</li>
<li>To select a field, click on the text (or, if empty, the prompt) shown for that field. Having selected the field, you may then click again at a particular place within the text to position the text cursor. (By default, when a field is selected the text cursor will be at the right-hand end of any existing text).</li>
<li>To collapse a multi-line frame, double-click on the keyword at the start of the frame</li>
<li>To expand a collapsed frame, double-click on the keyword at the start of the frame (or the &#8216;+&#8217; symbol in front of it).</li>

<p>NOT YET IMPLEMENTED</p>
<li>To move selected frame, or frames, up or down within the same peer level hold down the Ctrl key and drag the mouse, or move the scroll wheel</li>
<li>Scrolling of options within the &#8216;autocomplete&#8217; popup using the mouse wheel.</li>

<h1 id="InOut">Input/Output</h1>

<p>All forms of input/output involve dependencies on, or make changes to, the system. Therefore they may only be used within either the <el-code>main</el-code> or a <el-code>procedure</el-code>.</p>

<h2 id="h52">Printing plain text to the Console</h2>
<p><a href="https://www.youtube.com/watch?v=NGYQQeAuKAg">Explanatory YouTube video</a>: Elan input/output 1 - Printing to the Console</p>
<p>The simplest way to print is with the <el-code>print</el-code> statement. For example</p>
<el-code><br>
print "Hello"<br>
let a be 3<br>
let b be 4<br>
print a * b<br>
print "{a} times {b} equals {a*b}"
</el-code><br>

<p>Note</p>
<li>The last line in the example above uses an &#8216;interpolated string&#8217;. Arguments placed within curly braces are evaluated before printing, and these may be separated by literal text and punctuation as needed. This is one recommended way to print more than one value on a line. The other way is to use print procedures.</li>

<h3>print procedures</h3>
<p>If you wish to have more control over printing then, as an alternative to using a <el-code>print</el-code> statement, you may <el-code>call</el-code> any of these three standard library procedures:</p>
<el-code>printLine(arg as String)</el-code><br>
<el-code>printNoLine(arg as String)</el-code><br>
<el-code>printTab(tabPosition as Int, arg as String)</el-code><br>

<p>for example:</p>
<el-code><br>
for i from 1 to 10 step 1<br>
&nbsp;&nbsp;call printNoLine("{i}")<br>
end for
</el-code><br>

<p>Notes</p>
<li>For all three methods, the item to be printed must be a <el-code>String</el-code> , but you can convert other Types into a <el-code>String</el-code> by using the dot method .<el-code>asString()</el-code></li>
<li><el-code>printLine</el-code> prints the item with a newline afterwards, in the same way that the ordinary print statement does. (The only purpose of having this procedure is so that you may choose to do all printing via these methods rather than mixing them in with <el-code>print</el-code> statements).</li>
<li><el-code>printNoLine</el-code> does not automatically add a newline at the end, so you may subsequently print something else on the same line (unless you choose to include a newline <el-code>\n</el-code> within the string).</li>
<li><el-code>printTab</el-code> helps in the layout of information printed to the console, in particular, when printing columns of data. <el-code>printTab</el-code> requires an additional argument specifying the tab position which is number of characters from the left of the display. For example:</li>
<el-code><br>
call printTab(0, "No.")<br>
call printTab(10, "Square")<br>
call printTab(20, "Cube\n")<br>
for x from 1 to 10 step 1<br>
&nbsp;&nbsp;call printTab(0, x.asString()<br>
&nbsp;&nbsp;call printTab(10, "{x^2}")<br>
&nbsp;&nbsp;call printTab(20, "{x^3}\n")<br>
end for
</el-code><br>

<p>or, to right-align numeric output:</p>
<el-code>variable tab set to 10</el-code><br>
<el-code>variable i set to 0</el-code><br>
<el-code>for i from 1 to (tab &#8211; 1) step 1</el-code><br>
<el-code>  variable j set to 10^i </el-code><br>
<el-code>  call printTab(tab - digits(j), "{j}\n")</el-code><br>

<el-code>function digits(number as Int) returns Int</el-code><br>
<el-code>  return number.asString().length()</el-code><br>
<el-code>end function</el-code><br>

<h2 id="PrintHtml">Print Html to the Console</h2>
<p>As well as plain text, it is also possible to print Html to the console, which will be correctly formatted. For example:</p>
<el-code>print "&lt;h1 style='color: blue;'&gt;A heading&lt;/h1&gt;"</el-code><br>
<el-code>print "&lt;p&gt;some text&lt;/p&gt;"</el-code><br>

<p>Will produce:</p>
<p><img src="Images/ReferenceManual/Pic25.png"  align="MIDDLE" height="153" width="374"></p>
<p>Notes</p>
<li>For specifying style or other attributes within Html tags, the attribute values should be enclosed in single quotation marks <el-code>'</el-code> as shown. Html will recognise single or double quotation marks, but entering double quotation marks would terminate the Elan string. Alternatively, you could replace each <el-code>'</el-code> by the interpolated constant <el-code>{quotes}</el-code>.</li>
<li>It is not necessary to put individual lines of Html into separate <el-code>print</el-code> statements &#8211; you can print a string of any length &#8211; but putting tags into separate <el-code>print</el-code> statements can improve the readability of your code. </li>

<h3>Using an embedded stylesheet</h3>
<p>If you want styles to be applied to multiple tags you can embed a stylesheet. For example, the following stylesheet will set the font for all text, and some further details for all &lt;h1&gt; headings:</p>
<el-code>&lt;style&gt;</el-code><br>
<el-code>  h1 {</el-code><br>
<el-code>    color: blue;</el-code><br>
<el-code>    font-size: 24pt;</el-code><br>
<el-code>  }</el-code><br>
<el-code>  p {</el-code><br>
<el-code>    font-family: Helvetica;</el-code><br>
<el-code>    }</el-code><br>
<el-code>&lt;/style&gt;</el-code><br>

<p>This may be safely coalesced into a single line and many spaces removed:</p>
<el-code>&lt;style&gt;h1{color:blue;font-size:24pt;}p{font-family:Helvetica;}&lt;/style&gt;</el-code><br>

<p>The only problem is with the curly braces <el-code>{}</el-code> since within a literal string Elan will interpret these as defining an &#8216;interpolation&#8217; clause (see <span class="Link">Interpolated string</span>). This can best be overcome by using the interpolated constants <el-code>{openBrace}</el-code> and <el-code>{closeBrace}</el-code> instead of <el-code>{</el-code> and <el-code>}</el-code>:</p>

<el-code>main</el-code><br>
<el-code>  let stylesheet be "&lt;style&gt;h1{openBrace}color:blue;font-size:24pt;{closeBrace}p{openBrace}font-family:Helvetica;{closeBrace}&lt;/style&gt;"</el-code><br>
<el-code>  print stylesheet</el-code><br>
<el-code>  print "&lt;h1&gt;A heading&lt;/h1&gt;"</el-code><br>
<el-code>  print "&lt;p&gt;plain text&lt;/p&gt;"</el-code><br>
<el-code>end main</el-code><br>

<p>Here is the result:</p>
<p><img src="Images/ReferenceManual/Pic26.png"  align="MIDDLE" height="226" width="316"></p>
<p>Alternatively you could put, say, <el-code>[</el-code> and <el-code>]</el-code> in the original Html stylesheet instead of <el-code>{</el-code> and <el-code>}</el-code>, and use a function to replace the square brackets with curly braces (defined by their Unicode codepoint values) before use, and get the same result:</p>
<el-code>main<br>
&nbsp;&nbsp;let stylesheet be "&lt;style&gt; h1[color:blue;font-size:24pt;],p[font-family:Helvetica;] h1&lt;/style&gt;"<br>
&nbsp;&nbsp;print replaceBrackets(stylesheet)<br>
&nbsp;&nbsp;print "&lt;h1&gt;A heading&lt;/h1&gt;"<br>
&nbsp;&nbsp;print "&lt;p&gt;plain text&lt;/p&gt;"<br>
end main
</el-code><br>

<el-code>function replaceBrackets(original as String) returns String</el-code><br>
<el-code>  return original.replace("[", unicode(123)).replace("]", unicode(125))</el-code><br>
<el-code>end function</el-code><br>

<p>Notes</p>
<li>If you define an embedded stylesheet in the manner described above, then this should be printed first, and will then be applied to any subsequent printing of Html within the program. However &#8230;</li>
<li>If the console is cleared, either by the Clear button on the UI, or by programmatically using <el-code>call clearConsole()</el-code>, then the stylesheet will be removed also. You can, though, print the stylesheet again before printing further content. In this case it can be a good idea to define the stylesheet as a (global) <el-code>constant</el-code>.</li>
<li>In general you should avoid using <el-code>*</el-code> to define the applicability of a style, since this could mess up the styling of the Elan IDE, and even render it unusable. (Should this happen, refresh the browser and correct the stylesheet definition). If you want a style to apply to all elements that you are printing you may specify <el-code>#console *</el-code>, which means &#8216;all elements within the element with <el-code>id = 'console'</el-code></li>
<li>Beware printing strings with <el-code>&lt;</el-code> and <el-code>&gt;</el-code> in them in case they enclose non-blank characters since Elan will try and interpret the enclosed characters as an Html tag.</li>

<h2 id="h54">Inputting data from the keyboard</h2>
<p><a href="https://www.youtube.com/watch?v=ziYfalHJ9q4">Explanatory YouTube video</a>: Elan input/output 2 - input from the keyboard</p>

<p>Also the <el-code>readKey</el-code> system method on <el-code>BlockGraphics</el-code></p>

<h2 id="GrBlk">Block graphics</h2>
<p>Block graphics<el-code> </el-code>provides a simple way to create low resolution graphics, ideal for simple but engaging games for example. The graphics are displayed on a grid that is 40 blocks wide by 30 blocks high.</p>
<p>Each block may be rendered as a solid colour. Each block may alternatively hold a symbol: either one of the standard text characters or any Unicode symbol and, in each case, with specified foreground and background colours. For specifying colours, see <a href="#Colour">Colour</a>.</p>
<p>An example of block graphics to produce a rapidly changing pattern of coloured blocks:</p>

<el-code-block>
<main class="ok multiline" id="main1" tabindex="0">
<el-top><el-expand>+</el-expand><el-kw>main</el-kw><el-msg></el-msg><el-fr>1</el-fr></el-top>
<el-statement class="ok" id="var3" tabindex="0"><el-kw>variable </el-kw><el-field id="var4" class="ok" tabindex="0"><el-txt><el-id>gr</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> set to </el-kw><el-field id="expr5" class="ok" tabindex="0"><el-txt><el-kw>new</el-kw> <el-type>BlockGraphics</el-type>()</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
<el-statement class="ok multiline" id="while6" tabindex="0">
<el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field id="expr8" class="ok" tabindex="0"><el-txt><el-id>true</el-id></el-txt><el-place><i>condition</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>3</el-fr></el-top>
<el-statement class="ok" id="let9" tabindex="0"><el-kw>let </el-kw><el-field id="var10" class="ok" tabindex="0"><el-txt><el-id>x</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr11" class="ok" tabindex="0"><el-txt><el-method>randomInt</el-method>(<el-lit>0</el-lit>, <el-lit>39</el-lit>)</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>4</el-fr></el-statement>
<el-statement class="ok" id="let12" tabindex="0"><el-kw>let </el-kw><el-field id="var13" class="ok" tabindex="0"><el-txt><el-id>y</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr14" class="ok" tabindex="0"><el-txt><el-method>randomInt</el-method>(<el-lit>0</el-lit>, <el-lit>29</el-lit>)</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>5</el-fr></el-statement>
<el-statement class="ok" id="let15" tabindex="0"><el-kw>let </el-kw><el-field id="var16" class="ok" tabindex="0"><el-txt><el-id>colour</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr17" class="ok" tabindex="0"><el-txt><el-method>randomInt</el-method>(<el-lit>0</el-lit>, <el-lit>2</el-lit>^<el-lit>24</el-lit> - <el-lit>1</el-lit>)</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>6</el-fr></el-statement>
<el-statement class="ok" id="set18" tabindex="0"><el-kw>set </el-kw><el-field id="ident19" class="ok" tabindex="0"><el-txt><el-id>gr</el-id></el-txt><el-place><i>variableName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A previously defined variable, but NOT a parameter. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> to </el-kw><el-field id="expr20" class="ok" tabindex="0"><el-txt><el-id>gr</el-id>.<el-method>withBlock</el-method>(<el-id>x</el-id>, <el-id>y</el-id>, <el-id>colour</el-id>)</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>7</el-fr></el-statement>
<el-statement class="ok" id="call21" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident22" class="ok" tabindex="0"><el-txt><el-id>gr</el-id>.<el-method>display</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args23" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i><i>arguments</i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>8</el-fr></el-top></el-statement>
<el-kw>end while</el-kw>
</el-statement>
<el-kw>end main</el-kw>
</main>
</el-code-block>

<p>Notes</p>
<li>Making changes to the instance of <el-code>BlockGraphics</el-code> (<el-code>gr</el-code> above) &#8211; for example by calling <el-code>withBlock </el-code>above &#8211; does not of itself result in anything appearing in the Graphics screen. The Graphics screen changes only when the <el-code>display()</el-code> procedure is called. This is so that you can make many changes to the graphics and then have them appear all at once (when <el-code>display</el-code> is called). It is even possible to create and modify, multiple instances of <el-code>BlockGraphics</el-code>, and switch instantly between them by calling <el-code>display</el-code> on different instances. </li>
<li>The coordinates must be in the range 0-39 for a column, and 0-29 for a row. Using values outside this range will result in a runtime error.</li>
<li>Colour is always specified as an integer: see <a href="#Colour">Colour</a>.</li>
<li>The <el-code>withBlock</el-code> method does not change the instance of <el-code>BlockGraphics</el-code> on which it is called, but returns a new instance of <el-code>BlockGraphics</el-code> based on the original with the change specified. This new instance may, however, be re-assigned to the same variable &#8211; as is the case in the code above.</li>
<li>In addition to <el-code>withBlock</el-code>, there are these three function methods for updating the graphics:</li>
<p>
<el-code>withText(x as Int, y as Int, text as String, foreground as Int, background as Int) returns BlockGraphics</el-code><br>
If the text argument is more than one character long, the characters will be placed in successive blocks, wrapping onto the next line if necessary. (If the string is too long to fit, from the starting coordinates specified, you will get a runtime error). Use only ASCII characters with values in the range 32 space) through 254 lower-case thorn).</p>
<p>
<el-code>withUnicode(x as Int, y as Int, unicode as Int, foreground as Int, background as Int) returns BlockGraphics</el-code><br>
is used to specify a single symbol or character using its Unicode codepoint value.</p>
<p>
<el-code>withBackground(backgroundColour as Int) returns BlockGraphics</el-code><br>
will paint the background colour for the whole grid, leaving any existing characters (and their foreground colours) unchanged.</p>
<p>There are also function methods on a <el-code>BlockGraphics</el-code> instance for reading the existing character and colours of a specified block:</p>
<el-code>getChar(x as Int, y as Int) returns String </el-code><br>
<el-code>getForeground(x as Int, y as Int) returns Int</el-code><br>
<el-code>getBackground x as Int, y as Int) returns Int</el-code><br>
<h2 id="GrTur">Turtle graphics</h2>
<p>Example code:</p>
<el-code>main</el-code><br>
<el-code>  let t be new Turtle()</el-code><br>
<el-code>  call t.show()</el-code><br>
<el-code>  for i from 1 to 4 step 1</el-code><br>
<el-code>    call t.turn(90)</el-code><br>
<el-code>    call t.move(100)</el-code><br>
<el-code>    call t.pause(500)</el-code><br>
<el-code>  end for</el-code><br>
<el-code>end main</el-code><br>

<p>Output:</p>
<el-code><img src="Images/ReferenceManual/Pic30.png"  align="MIDDLE" height="173" width="318"></el-code><br>

<p>Notes</p>
<li><el-code>move</el-code> and <el-code>turn</el-code> are the two most commonly-used methods. To <el-code>move</el-code> backwards, specify a negative value. The value passed into <el-code>turn</el-code> is interpreted as degrees: a positive value turns clockwise; a negative value anti-clockwise. Both methods take a numeric value, which may be an <el-code>Int</el-code> or a <el-code>Float</el-code>.</li>
<li>Scaling: the argument provided to the <el-code>move</el-code> procedure is specified in &#8216;turtle-units&#8217;. The Graphics pane on the screen (i.e. the &#8216;paper&#8217; on which the Turtle draws) is 100 turtle units wide by 75 turtle units high. If the turtle is moved outside these boundaries it will not cause an error, but the location of the turtle and any lines outside the boundaries will not be visible.</li>
<li><el-code>show</el-code> causes the turtle to be displayed (the small green circle with a black radius showing the direction it is pointing); <el-code>hide</el-code> does the opposite. You can move and turn the turtle, causing lines to be drawn, whether or not the turtle is shown. </li>
<li>To move the turtle without drawing a line call <el-code>penUp</el-code>, then <el-code>penDown</el-code> when you are ready to draw lines again.</li>
<li><el-code>penColour</el-code> takes an integer argument specifying the colour. For specifying colours, see <a href="#Colour">Colour</a>.</li>
<li><el-code>penWidth</el-code> specifies the width of the line drawn by the turtle which must be an integer. The default is the minimum value of 1.</li>
<li>You can specify the start position of the turtle in <el-code>x,y</el-code> coordinates (<el-code>0,0</el-code> being the top-left of the Graphics pane) with <el-code>placeAt</el-code>, which may also be used to reposition the turtle (without drawing a connecting line) during the program run. You may specify the turtle&#8217;s absolute heading with <el-code>turnTo</el-code>, where 0 would cause the turtle to face up the screen.</li>
<li>The current location and heading of the turtle may be read using the <el-code>x</el-code>, <el-code>y</el-code>, and <el-code>heading</el-code> properties.</li>
<li>There is no difference in effect between <el-code>call t.pause(500)</el-code> and the standalone <el-code>call pause(500)</el-code>: the former option is provided as a convenience, because most instructions in a <el-code>Turtle</el-code> program take the form <el-code>call t.something</el-code>. Both versions take an integer argument, being the length of the pause in milliseconds.</li>
<li>Apart from the <el-code>penColour</el-code> and <el-code>pause</el-code> methods, both of which require an integer value, all other procedure methods on the <el-code>Turtle</el-code> can take integer or floating-point values.</li>
<p>Here is a more sophisticated example, using a procedure and recursion, that produces a fractal snowflake:</p>
<el-code>main</el-code><br>
<el-code>  variable t set to new Turtle()</el-code><br>
<el-code>  call t.placeAt(10, 60)</el-code><br>
<el-code>  call t.turn(90)</el-code><br>
<el-code>  call t.show()</el-code><br>
<el-code>  for i from 1 to 3 step 1</el-code><br>
<el-code>    call drawSide(160, t)</el-code><br>
<el-code>    call t.turn(120)</el-code><br>
<el-code>  end for</el-code><br>
<el-code>end main</el-code><br>

<el-code>procedure drawSide(length as Float, out t as Turtle)</el-code><br>
<el-code>  if (length &gt; 3) then</el-code><br>
<el-code>    let third be length/3</el-code><br>
<el-code>    call drawSide(third, t)</el-code><br>
<el-code>    call t.turn(-60)</el-code><br>
<el-code>    call drawSide(third, t)</el-code><br>
<el-code>    call t.turn(120)</el-code><br>
<el-code>    call drawSide(third, t)</el-code><br>
<el-code>    call t.turn(-60)</el-code><br>
<el-code>    call drawSide(third, t)</el-code><br>
<el-code>  else</el-code><br>
<el-code>    call t.move(length)</el-code><br>
<el-code>  end if</el-code><br>
<el-code>end procedure</el-code><br>

<p><img src="Images/ReferenceManual/Pic31.png"  align="MIDDLE" height="133" width="134"></p>

<h2 id="GrVec">Vector graphics</h2>
<p>Example:</p>
<el-code>main</el-code><br>
<el-code>&nbsp; variable vg set to new VectorGraphics()</el-code><br>
<el-code>&nbsp; let circ be new CircleVG() with cx to 35, cy to 35, r to 5, stroke to red, strokeWidth to 2, fill to green</el-code><br>
<el-code>&nbsp; set vg to vg.add(circ)</el-code><br>
<el-code>&nbsp; call vg.display()</el-code><br>
<el-code>end main</el-code><br>

<p>Output:</p>
<p><img src="Images/ReferenceManual/Pic33.png"  align="MIDDLE" height="152" width="554"></p>

<p>Notes</p>
<li>Elan vector graphics are displayed using SVG (Scalable Vector Graphics) that are a part of the Html specification. The names of the shapes broadly correspond to the names of SVG tags: <el-code>CircleVG</el-code> for &lt;<el-code>circle../&gt;</el-code>, <el-code>LineVG</el-code> for <el-code>&lt;line../&gt;</el-code>, and <el-code>RectangleVG</el-code> for <el-code>&lt;rect../&gt;</el-code>. The properties of the Elan VG shapes match the names of the attributes used in the SVG tags, except that the <el-code>stroke-width</el-code> attribute is changed to <el-code>strokeWidth</el-code> to make it a valid <a href="#Identifier">Identifier</a>.</li>
<li>The &#8216;canvas&#8217; on which vector graphics are drawn (the Graphics pane in the user interface) is 100 units wide, by 75 units high .All numeric values specified for attributes of vector graphic shapes may be integer or floating point. </li>
<li>All Elan .<el-code>.VG</el-code> shapes have default values for all attributes, and so will show up even if no attributes have been specified. You can specify as many of the attributes as you wish when creating the shape using the <el-code>new .. with</el-code> syntax, as shown in the example above.</li>
<li>As with <span class="Link">Block</span> graphics the screen is not updated until the display method is called, allowing you to make multiple changes before updating the screen. Similarly, the method to add a shape returns a new instance of the <el-code>VectorGraphics</el-code> which must be assigned either to an existing variable, or to a new <el-code>let</el-code>.</li>
<li>As with the way that SVG works within Html, the shapes are drawn in the order in which they are added into the <el-code>VectorGraphics</el-code> instance, with later shapes positioned over earlier shapes.</li>
<li>The colour (for <el-code>stroke</el-code> and <el-code>fill</el-code> properties) may be specified as described at <a href="#Colour">Colour</a>. The <el-code>fill</el-code> colour only may also be specified as &#8216;transparent&#8217; by giving it a negative value; we suggest using <el-code>fill to -1</el-code></li>
<li><el-code>VectorGraphics</el-code> also has methods <el-code>removeLast</el-code> (no parameters), <el-code>remove</el-code> (which takes a shape as a parameter, and <el-code>replace</el-code> which takes an existing shape and a new shape as parameters. The new shape may be a modified version of an existing shape (created using <el-code>copy .. with</el-code>), thereby enabling animation. The following simple example creates a circle that changes between red and green every second:</li>

<el-code>main</el-code><br>
<el-code>  variable vg set to new VectorGraphics()</el-code><br>
<el-code>  let greenCirc be new CircleVG() with cx to 50, cy to 37, r to 30, fill to green</el-code><br>
<el-code>  let redCirc be copy greenCirc with fill to red</el-code><br>
<el-code>  set vg to vg.add(greenCirc)</el-code><br>
<el-code>  while true</el-code><br>
<el-code>    call vg.display()</el-code><br>
<el-code>    call pause(1000)</el-code><br>
<el-code>    set vg to vg.replace(greenCirc, redCirc)</el-code><br>
<el-code>    call vg.display()</el-code><br>
<el-code>    call pause(1000)</el-code><br>
<el-code>    set vg to vg.replace(redCirc, greenCirc)</el-code><br>
<el-code>  end while</el-code><br>
<el-code>end main</el-code><br>

<h2 id="Colour">Colour</h2>
<p>
Where a colour can be specified, it is a value of Type <el-code>Int</el-code> in the range<br>
0 &#8211; 16,777,215 (i.e. 0 to 224 -1, expressable as 24-bit binary number).</p>
<p>As in Html, a colour number is made up of the values from 0 to 255 for each of the three components: red (R), green (G) and blue (B). So a colour value may be described by its integer value, or by three decimal values (R, G, B), or by a 6-digit hexadecimal number (<el-code>0xrrggbb</el-code>).</p>
<p>Elan has a small number of standard named colours:</p>
<p>
<table>
<tr><th>Integer<br>
decimal
</th>
<th>R G B<br>
decimal
</th>
<th>R G B<br>
hexadecimal
</th>
<th>Colour<br>
name
</th>
</tr>
<tr><td>0</td>
<td>  0    0    0</td>
<td><el-code>0x000000</el-code></td>
<td>black</td>
</tr>
<tr><td>16777215</td>
<td>255  255  255</td>
<td><el-code>0xffffff</el-code></td>
<td>white</td>
</tr>
<tr><td>16711680</td>
<td>255    0    0</td>
<td><el-code>0xff0000</el-code></td>
<td>red</td>
</tr>
<tr><td>32768</td>
<td>  0  128    0</td>
<td><el-code>0x008000</el-code></td>
<td>green</td>
</tr>
<tr><td>255</td>
<td>  0   0   255</td>
<td><el-code>0x0000ff</el-code></td>
<td>blue</td>
</tr>
<tr><td>16776960</td>
<td>255  255    0</td>
<td><el-code>0xffff00</el-code></td>
<td>yellow</td>
</tr>
<tr><td>10824234</td>
<td>165   42   42</td>
<td><el-code>0xa52a2a</el-code></td>
<td>brown</td>
</tr>
<tr><td>8421504</td>
<td>128  128  128</td>
<td><el-code>0x808080</el-code></td>
<td>grey</td>
</tr></table>
</p>

<p>You can use these colour names directly in an <el-code>Int</el-code>. If you want to define other colours, you put any of the 16,777,215 colour numbers into literals, constants or variables either as a decimal integer or, more conveniently, in the hexadecimal form shown in the table. For example you might define <el-code>lightBlue</el-code> and <el-code>deepPink</el-code> using these hex values:</p>
<p>
<table>
<tr><th>8421504</th>
<th>128  171  255</th>
<th><el-code>0x80abff</el-code></th>
<th>lightBlue</th>
</tr>
<tr><td>16206720</td>
<td>247   75  128</td>
<td><el-code>0xf74b80</el-code></td>
<td>deepPink</td>
</tr></table>
</p>

<p>and then use a variable or a constant to hold those values:</p>
<el-code>variable lightBlue set to 0x80abff</el-code><br>
<el-code>constant deepPink set to 0xf74b80</el-code><br>

<p>Note that in Elan code a hexadecimal colour value is preceded by <el-code>0x</el-code>, whereas in an Html stylesheet it is preceded by <el-code>#</el-code>. Also, the standard colour names may not correspond exactly.</p>

<h2 id="h58">Reading keys &#8216;on the fly&#8217;</h2>
<p>In some applications &#8211; especially in games, for example &#8211; you want the program to react to a key pressed by the user, but without holding up the program to wait for value to be input. </p>
<p>Whether your application makes use graphics, or just uses the Console for text, reading keystrokes &#8216;on the fly&#8217; is done via one of two methods:</p>
<el-code>let key be getKey()</el-code><br>
<el-code>let key, modifier be getKeyWithModifier()</el-code><br>

<p>Notes</p>
<li>When the <el-code>getKey</el-code> is called, the system does not wait for a response. If a key has been pressed then that will be returned as a <el-code>String</el-code> e.g. <el-code>"a"</el-code>.</li>
<li>Non-printable keys will be returned in the form: <el-code>"Backspace"</el-code>,"<el-code>Enter"</el-code>,<el-code>"ArrowDown"</el-code>,..</li>
<li>If no key has been pressed (since the last time the method was called), it will return the empty string <el-code>""</el-code>. </li>
<li>Pressing just the Shift, Ctrl (Cmd under macOS), or Alt keys will not be detected by <el-code>getKey</el-code>. To read those keys use&#8230;</li>
<li>getKeyWithModifier</el-code> which returns a 2-tuple containing  the key pressed plus any &#8216;modifier&#8217; key such a <el-code>Shift</el-code>, <el-code>Ctrl</el-code>, or <el-code>Alt</el-code> (or the empty string if no modifier key is pressed).</li>
<li>Both of these <el-code>getKey</el-code> methods are <a href="#System_methods">System methods</a> because they have a dependency on the system and so may only be used within a <el-code>procedure</el-code> or in <el-code>main</el-code>.</li>
<p>Use the procedure method <el-code>clearKeyBuffer()</el-code> if you want to enforce that the user cannot get too far ahead of the program by hitting keys in very rapid succession.</p>
<el-code>waitForAnyKey</el-code><br>
<p>pauses the execution of the program until the user presses any single key. The identity of the key is not captured though. Example of use:</p>

<el-code-block>
    <el-statement class="ok" id="print3" tabindex="0"><el-kw>print </el-kw><el-field id="expr4" class="optional ok" tabindex="0"><el-txt>"<el-lit>Press any key to continue..</el-lit>"</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
    <el-statement class="ok" id="call5" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident6" class="ok" tabindex="0"><el-txt><el-method>waitForAnyKey</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args7" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>3</el-fr></el-top></el-statement>
    <el-statement class="ok" id="call8" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident9" class="ok" tabindex="0"><el-txt><el-method>clearConsole</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args10" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>4</el-fr></el-top></el-statement>
    <el-statement class="ok" id="print11" tabindex="0"><el-kw>print </el-kw><el-field id="expr12" class="optional ok" tabindex="0"><el-txt>"<el-lit>Next page</el-lit>"</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>5</el-fr></el-statement>
</el-code-block>

<h2 id="h59">Reading textual data from a file</h2>
<p>Reading a whole file in one go:</p>
<el-code-block>
  <el-statement class="ok" id="let3" tabindex="0"><el-kw>let </el-kw><el-field id="var4" class="ok" tabindex="0"><el-txt><el-id>file</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr5" class="ok" tabindex="0"><el-txt><el-method>openFileForReading</el-method>()</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
  <el-statement class="ok" id="let6" tabindex="0"><el-kw>let </el-kw><el-field id="var7" class="ok" tabindex="0"><el-txt><el-id>text</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr8" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>readWholeFile</el-method>()</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>3</el-fr></el-statement>
  <el-statement class="ok" id="call9" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident10" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>close</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args11" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i><i>arguments</i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>4</el-fr></el-top></el-statement>
  <el-statement class="ok" id="print12" tabindex="0"><el-kw>print </el-kw><el-field id="expr13" class="optional ok" tabindex="0"><el-txt><el-id>text</el-id></el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>5</el-fr></el-statement>
</el-code-block>

<p>Reading a file line by line:</p>
<el-code-block>
  <el-top><el-expand>+</el-expand><el-kw>main</el-kw><el-msg></el-msg><el-fr>1</el-fr></el-top>
  <el-statement class="ok" id="let3" tabindex="0"><el-kw>let </el-kw><el-field id="var4" class="ok" tabindex="0"><el-txt><el-id>file</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr5" class="ok" tabindex="0"><el-txt><el-method>openFileForReading</el-method>()</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
  <el-statement class="ok" id="var6" tabindex="0"><el-kw>variable </el-kw><el-field id="var7" class="ok" tabindex="0"><el-txt><el-id>lines</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> set to </el-kw><el-field id="expr8" class="ok" tabindex="0"><el-txt><el-kw>empty</el-kw> <el-type>Array</el-type>&lt;<el-kw>of</el-kw> <el-type>String</el-type>&gt;</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>3</el-fr></el-statement>
  <el-statement class="ok multiline" id="while9" tabindex="0">
  <el-top><el-expand>+</el-expand><el-kw>while </el-kw><el-field id="expr11" class="ok" tabindex="0"><el-txt><el-kw>not</el-kw> <el-id>file</el-id>.<el-method>endOfFile</el-method>()</el-txt><el-place><i>condition</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>4</el-fr></el-top>
  <el-statement class="ok" id="let12" tabindex="0"><el-kw>let </el-kw><el-field id="var13" class="ok" tabindex="0"><el-txt><el-id>line</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr14" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>readLine</el-method>()</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>5</el-fr></el-statement>
  <el-statement class="ok" id="call15" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident16" class="ok" tabindex="0"><el-txt><el-id>lines</el-id>.<el-method>append</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args17" class="optional ok" tabindex="0"><el-txt><el-id>line</el-id></el-txt><el-place><i>arguments</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>6</el-fr></el-top></el-statement>
  <el-kw>end while</el-kw>
  </el-statement>
  <el-statement class="ok" id="call18" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident19" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>close</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args20" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i><i>arguments</i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>7</el-fr></el-top></el-statement>
</el-code-block>

<p>Notes</p>
<li><el-code>openFileForReading</el-code> will present the user with a dialog to select the file.</li>
<li><el-code>readWholeFile</el-code> returns a <el-code>String</el-code> containing every character in the file, without any trimming. It automatically closes the file after the read.</li>
<li><el-code>readLine</el-code> reads as far as the next newline character (<el-code>\n</el-code>) and then automatically trims the line to remove any spaces and/or carriage-returns (which some file systems insert after the newline automatically) from the resulting line returned as a <el-code>String</el-code>. If this behaviour is not desired, you can use <el-code>readWholeFile</el-code>, which does no trimming, and then parse the resulting <el-code>String</el-code> into separate lines.</li>
<li>Calling <el-code>file.close()</el-code> after reading line by line is strongly recommended to avoid any risk of leaving the file locked. It is not necessary to call it after using <el-code>readWholeFile() </el-code>because that method automatically closes the file.</li>
<li>Calling any method on a file that is already closed will result in a runtime error.</li>

<h2 id="h60">Writing textual data to a file</h2>
<p>Writing a whole file in one go:</p>
<el-code-block>
    <el-statement class="ok" id="let3" tabindex="0"><el-kw>let </el-kw><el-field id="var4" class="ok" tabindex="0"><el-txt><el-id>f</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr5" class="ok" tabindex="0"><el-txt><el-method>createFileForWriting</el-method>("<el-lit>myFile.txt</el-lit>")</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
    <el-statement class="ok" id="call6" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident7" class="ok" tabindex="0"><el-txt><el-id>f</el-id>.<el-method>writeWholeFile</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args8" class="optional ok" tabindex="0"><el-txt>"<el-lit>this is\nmyText</el-lit>"</el-txt><el-place><i>arguments</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>3</el-fr></el-top></el-statement>
</el-code-block>

<p>Writing a file line by line:</p>
<el-code>
    <el-top><el-expand>+</el-expand><el-kw>main</el-kw><el-msg></el-msg><el-fr>1</el-fr></el-top>
    <el-statement class="ok" id="let3" tabindex="0"><el-kw>let </el-kw><el-field id="var4" class="ok" tabindex="0"><el-txt><el-id>file</el-id></el-txt><el-place><i>name</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else. (For'tuple deconstruction' or 'list deconstruction' consult documentation.)">?</el-help></el-field><el-kw> be </el-kw><el-field id="expr5" class="ok" tabindex="0"><el-txt><el-method>createFileForWriting</el-method>("<el-lit>squares.txt</el-lit>")</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>2</el-fr></el-statement>
    <el-statement class="ok multiline" id="for6" tabindex="0">
    <el-top><el-expand>+</el-expand><el-kw>for </el-kw><el-field id="ident8" class="ok" tabindex="0"><el-txt><el-id>i</el-id></el-txt><el-place><i>variableName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else.">?</el-help></el-field><el-kw> from </el-kw><el-field id="expr9" class="ok" tabindex="0"><el-txt><el-lit>1</el-lit></el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-kw> to </el-kw><el-field id="expr10" class="ok" tabindex="0"><el-txt><el-lit>100</el-lit></el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-kw> step </el-kw><el-field id="expr11" class="ok" tabindex="0"><el-txt><el-lit>1</el-lit></el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>3</el-fr></el-top>
    <el-statement class="ok" id="call12" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident13" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>writeLine</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args14" class="optional ok" tabindex="0"><el-txt>"<el-lit></el-lit>{<el-id>i</el-id>}<el-lit> </el-lit>{<el-id>i</el-id>*<el-id>i</el-id>}<el-lit></el-lit>"</el-txt><el-place><i>arguments</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>4</el-fr></el-top></el-statement>
    <el-kw>end for</el-kw>
    </el-statement>
    <el-statement class="ok" id="call15" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident16" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>saveAndClose</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args17" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i><i>arguments</i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>5</el-fr></el-top></el-statement>
    <el-kw>end main</el-kw>
</el-code><br>

<p>Notes</p>
<li><el-code>writeLine</el-code> adds the string it is passed onto the end of any data previously written, with a newline character (<el-code>\n</el-code>) automatically appended.</li>
<li>When execution reaches <el-code>saveAndClose()</el-code> you will be presented with a dialog to confirm (or edit) the given filename and location where it is to be saved. It is not therefore strictly necessary to specify a filename when creating the file, since it can be specified by the user in the dialog so, in that case, you might put the empty string <el-code>""</el-code> into the parameter of <el-code>createFileForWriting</el-code>.</li>
<li><el-code>writeWholeFile</el-code> puts the string it is given into the file and then automatically saves the file, so the user will be presented with the same dialog as if <el-code>saveAndClose</el-code> had been called.</li>
<li>Calling any method on a file that has already been closed (by calling either <el-code>saveAndClose</el-code> or by <el-code>writeWholeFile</el-code>) will result in a runtime error.</li>
<li>If the user were to hit Cancel on the save dialog, then the program will exit with an error. If you want to guard against this possibility (if, for example, it might mean the loss of important data) then you should perform the save and close within a <el-code>try..catch</el-code> like this:</li>

<el-code-block>
  <el-statement class="ok multiline" id="try3" tabindex="0">
  <el-top><el-expand>+</el-expand><el-kw>try </el-kw><el-msg></el-msg><el-fr>3</el-fr></el-top>
  <el-statement class="ok" id="call8" tabindex="0"><el-top><el-kw>call </el-kw><el-field id="ident9" class="ok" tabindex="0"><el-txt><el-id>file</el-id>.<el-method>saveAndClose</el-method></el-txt><el-place><i>procedureName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="The name of the procedure to be called (starting lower-case). Alternatively, a 'dotted-call':  the name of a variable or property, followed by a ''' and the name of the procedure method to call on that 'instance'.">?</el-help></el-field>(<el-field id="args10" class="empty optional ok" tabindex="0"><el-txt></el-txt><el-place><i><i>arguments</i></i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="list of zero or more arguments, comma separated. Each argument may be a literal value, variable, or simple expression.">?</el-help></el-field>)<el-msg></el-msg><el-fr>4</el-fr></el-top></el-statement>
  <el-statement class="ok outdent" id="catch5" tabindex="0"><el-top><el-expand>+</el-expand><el-kw>catch exception in </el-kw><el-field id="ident6" class="ok" tabindex="0"><el-txt><el-id>e</el-id></el-txt><el-place><i>variableName</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="A variable name must start with a lower-case letter, optionally followed by any letters (lower or upper case), and/or numeric digits, and/or underscores - nothing else.">?</el-help></el-field><el-msg></el-msg><el-fr>5</el-fr></el-top></el-statement>
  <el-statement class="ok" id="print11" tabindex="0"><el-kw>print </el-kw><el-field id="expr12" class="optional ok" tabindex="0"><el-txt>"<el-lit>File save cancelled</el-lit>"</el-txt><el-place><i>expression</i></el-place><el-compl></el-compl><el-msg></el-msg><el-help title="Field may contain a literal value, a reference to a variable, or an expression">?</el-help></el-field><el-msg></el-msg><el-fr>6</el-fr></el-statement>
  <el-kw>end try</el-kw>
  </el-statement>
</el-code-block>
<p>or you could make the code offer the user options: to save again, or to continue without saving.</p>



<h1 id="StdLib">Standard library</h1>

<h2>Standalone functions</h2>
<p>Standalone <el-code>functions</el-code> always return a value and are therefore used in contexts that expect a value, such as in the right-hand side of a variable declaration (variable) or assignment (set), either on their own or within a more complex expression. All standalone library<el-code> function</el-code>s require at least one argument to be passed in brackets, corresponding to the parameters defined for that <el-code>function</el-code>.</p>

<h3>unicode</h3>
<p>unicode(code as Int) returns String</p>

<p>converts a Unicode value (expressed in decimal or hexadecimal notation) into a single character string. For example:</p>
<el-code>function hearts() return string</el-code><br>
<el-code>  return unicode(0x2655)</el-code><br>
<el-code>end function</el-code><br>

<h3>parseAsInt and parseAsFloat</h3>
<p>
<span>parseAsInt(inp as String) returns (Boolean, Int)<br>
parseAsFloat(inp as String) returns (Boolean, Float)</span></p>

<p>parseAsInt attempts to parse the input String as an Int and returns a 2-tuple, the first value of which is Boolean, with true indicating whether or not the parse has succeeded, and the second value being the resulting Int. parseAsFloat does the equivalent for floating point. </p>

<p>print parseAsInt("31") 	_	(true, 31)</p>
<p>print parseAsFloat("31")	 _	(true, 31)</p>

<p>print parseAsInt("31.2)	 _	 (false, 0)</p>
<p>print parseAsFloat("31.2")	 _	 (true, 31.2)</p>

<p>print parseAsInt("0")	 _	 (true, 0)</p>
<p>print parseAsInt("0")	 _	 (true, 0)</p>

<p>Notes</p>
<li>Any string that parses as an Int will also parse as a Float.</li>
<li>If the parse fails, the second value will become zero, so you should always check the first value to see if the second value is a correct parse or just the default. </li>
<p>
You can &#8216;deconstruct&#8217; the tuple into two variables:<br>
variable outcome, value set to parseAsInt(myString)</p>
<li>One use of these parsing methods is for validating user input, but note that there is an easier way to do this.</li>

<h3>floor, ceiling, and round</h3>
<p>floor(inp as Float) returns Int</p>
<p>returns the nearest integer value below (or equal to) the argument value. Usage:</p>
<p>print floor(2.5)	_ 	2</p>
<p>ceiling(inp as Float) returns Int </p>
<p>returns the nearest integer value above (or equal to) the input value. Usage:</p>
<p>print ceiling(2.5)	_	3</p>
<p>round(inp as Float, places as Int) returns Float</p>
<p>Rounds the input number of decimal places specified as the second argument (an Int). Usage:</p>
<p>print round(3.14159, 3)	 _	 3.142</p>
<p></p>

<h3>Maths functions</h3>
<p>
<table>
<tr><th>Function</th>
<th>Argument</th>
<th>Input unit</th>
<th>Returns</th>
<th>Output unit</th>
</tr>
<tr><td><el-code>pi</el-code></td>
<td>(none)</td>
<td></td>
<td>3.141592653589793..</td>
<td></td>
</tr>
<tr><td><el-code>abs</el-code></td>
<td>Float</td>
<td></td>
<td>absolute value of the input</td>
<td></td>
</tr>
<tr><td><el-code>acos</el-code></td>
<td>Float</td>
<td></td>
<td>arccosine of the input</td>
<td>radians</td>
</tr>
<tr><td><el-code>asin</el-code></td>
<td>Float</td>
<td></td>
<td>arcsine of the input</td>
<td>radians</td>
</tr>
<tr><td><el-code>atan</el-code></td>
<td>Float</td>
<td></td>
<td>arctangent of the input</td>
<td>radians</td>
</tr>
<tr><td><el-code>acosDeg</el-code></td>
<td>Float</td>
<td></td>
<td>arccosine of the input</td>
<td>degrees</td>
</tr>
<tr><td><el-code>asinDeg</el-code></td>
<td>Float</td>
<td></td>
<td>arcsine of the input</td>
<td>degrees</td>
</tr>
<tr id="atanDeg"><td><el-code>atanDeg</el-code></td>
<td>Float</td>
<td></td>
<td>arctangent of the input</td>
<td>degrees</td>
</tr>
<tr><td><el-code>cos</el-code></td>
<td>Float</td>
<td>radians</td>
<td>cosine of the input</td>
<td></td>
</tr>
<tr><td><el-code>cosDeg</el-code></td>
<td>Float</td>
<td>degrees</td>
<td>cosine of the input</td>
<td></td>
</tr>
<tr><td><el-code>exp</el-code></td>
<td>Float</td>
<td></td>
<td>ex where x is the argument, e being Euler's number 2.718281828459045.. and the base of natural logarithms</td>
<td></td>
</tr>
<tr><td><el-code>logE</el-code></td>
<td>Float</td>
<td></td>
<td>natural logarithm of the input</td>
<td></td>
</tr>
<tr><td><el-code>log10</el-code></td>
<td>Float</td>
<td></td>
<td>base-10 logarithm of the input</td>
<td></td>
</tr>
<tr><td><el-code>log2</el-code></td>
<td>Float</td>
<td></td>
<td>base-2 logarithm of the input</td>
<td></td>
</tr>
<tr><td><el-code>sin</el-code></td>
<td>Float</td>
<td>radians</td>
<td>the sine of the input</td>
<td></td>
</tr>
<tr><td><el-code>sinDeg</el-code></td>
<td>Float</td>
<td>degrees</td>
<td>sine of the input</td>
<td></td>
</tr>
<tr><td><el-code>sqrt</el-code></td>
<td>Float</td>
<td></td>
<td>positive square root of the input</td>
<td></td>
</tr>
<tr><td><el-code>tan</el-code></td>
<td>Float</td>
<td>radians</td>
<td></td>
<td></td>
</tr>
<tr><td><el-code>tanDeg</el-code></td>
<td>Float</td>
<td>degrees</td>
<td></td>
<td></td>
</tr>
<tr><td><el-code>degToRad</el-code></td>
<td>Float</td>
<td>degrees</td>
<td>converts input from degrees to radians</td>
<td>radians</td>
</tr>
<tr><td><el-code>radToDeg</el-code></td>
<td>Float</td>
<td>radians</td>
<td>converts input from radians to degrees</td>
<td>degrees</td>
</tr></table>
</p>

<p>Examples of some maths functions being tested:</p>

<p><img src="Images/ReferenceManual/Pic84.png"  align="MIDDLE" height="220" width="298"></p>

<h3>Regular expressions</h3>
<p>Elan&#8217;s regular expressions are modelled on those of JavaScript, including the syntax for literal regular expressions. See, for example this <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions">Guide to Regular Expressions</a>.</p>
<p>More functions for using regular expressions will be added in a future release of Elan. For now&#8230;</p>
<p>The method <el-code>testRegExp</el-code> is applied to a <el-code>String</el-code> using dot syntax and requires a <el-code>RegExp</el-code> parameter specified as a literal or as variable. It returns a Boolean. For example:</p>
<p><img src="Images/ReferenceManual/Pic85.png"  align="MIDDLE" height="113" width="313"></p>
<p>You can convert a valid <el-code>string</el-code> without <el-code>/../</el-code> delimiters to a <el-code>RegExp</el-code> using function <el-code>asRegExp</el-code>:</p>
<p><img src="Images/ReferenceManual/Pic86.png"  align="MIDDLE" height="117" width="318"></p>
<p>Although it is recommended that literal regular expressions are written with the <el-code>/../</el-code> delimiters, the ability to convert a <el-code>string</el-code> allows you to input a regular expression into a running program.</p>

<h3>Bitwise functions</h3>
<el-code>bitAnd(a as Int, b as Int) returns Int</el-code><br>
<el-code>bitOr(a as Int, b as Int) returns Int</el-code><br>
<el-code>bitXor(a as Int, b as Int) returns Int</el-code><br>
<el-code>bitNot(a as Int) returns Int</el-code><br>
<el-code>bitShiftL(a as Int, places as Int) returns Int</el-code><br>
<el-code>bitShiftR(a as Int, places as Int) returns Int</el-code><br>

<p>Examples of the bitwise functions being tested:</p>
<el-code><img src="Images/ReferenceManual/Pic87.png"  align="MIDDLE" height="273" width="353"></el-code><br>

<p>The result of <el-code>bitNot(a)</el-code>, where <el-code>a</el-code> is <el-code>13</el-code>, being <el-code>-14</el-code> might be a surprise. But this is because the bitwise functions assume that the arguments are represented as 32-bit signed integers. So 13 is represented as <el-code>00000000000000000000000000001101</el-code>, and applying <el-code>bitNot</el-code> gives <el-code>11111111111111111111111111110010 </el-code>which is the value <el-code>-14 </el-code>in signed two&#8217;s complement format, the left-most bit being the sign (<el-code>0</el-code> positive, <el-code>1</el-code> negative).</p>

<h2>Standalone procedures</h2>
<p>All <el-code>procedure</el-code>s are accessed via a <el-code>call</el-code> statement.</p>

<el-code>pause(100)</el-code><br>

<p>Typically used to slow down the execution of a program e.g. for a game. The argument provided to <el-code>pause</el-code> is in milliseconds, so <el-code>pause(100)</el-code> delays execution for one tenth of a second.</p>
<el-code>clearConsole()</el-code><br>
<p>See <span class="Link">Printing plain text to the Console</span></p>
<el-code>clearKeyBuffer()</el-code><br>
<el-code>getKey()</el-code><br>
<el-code>getKeyWithModifier()</el-code><br>
<el-code>waitForAnyKey()</el-code><br>

<h2 id="MethSys">System methods</h2>
<p>System methods appear to work like <el-code>functions</el-code>, because:</p>
<li>they may require one or more arguments to be provided</li>
<li>they always return a value</li>
<li>they are used in expressions</li>
<p>However, system methods are not pure functions because:</p>
<li>They may have a dependency on data that is not provided as an argument</li>
<li>They may generate side-effects, such as changing the screen display, or writing to a file</li>
<p>Because of these properties, system methods may be used only within the <el-code>main</el-code> routine or within a <el-code>procedure</el-code>. System methods may not be used inside a <el-code>function</el-code> that you have defined, because to do so would mean that your <el-code>function</el-code> would not be pure. </p>
<p>System methods are all defined within the Elan standard library. You cannot write a system method yourself.</p>
<p>System methods are commonly associated with <a href="#Input/Output">Input/Output</a>, but note that:</p>
<li>Input/output may also be performed via procedures</li>
<li>Some system methods do not appear to be concerned with input/output: see the list below</li>
<li>The reason those are system methods is that they have a dependency on variable data that is not passed into them as arguments</li>

<h3>List of system methods</h3>
<p><el-code>clock</el-code> Returns an integer that increments every millisecond. It is useful for measuring elapsed time by comparing the values returned by two such evaluations of the <el-code>clock</el-code> method.</p>
<p><el-code>random</el-code> and <el-code>randomInt</el-code>: see <span class="Link">Generating random numbers</span></p>
<p><el-code>openFileForReading</el-code>: see <span class="Link">Reading textual data from a file</span></p>
<p>All the <el-code>input</el-code> methods, <el-code>getKey</el-code>, and <el-code>getKeyWithModifier</el-code> See <span class="Link">Inputting data from the keyboard</span></p>

<h2 id="h97">Standard data structures</h2>

<h3>Stack and queue</h3>
<li><el-code>Stack</el-code> and <el-code>Queue</el-code> are similar data structures except that <el-code>Stack</el-code> is &#8216;LIFO&#8217; (last in, first out), while <el-code>Queue</el-code> is FIFO (first in, first out). The names of the methods for adding/removing are different, but there are also common methods, summarised here.</li>
<li>Both a <el-code>Stack</el-code> and a <el-code>Queue</el-code> are defined with the Type of the items that they can contain, similarly to how <el-code>Array</el-code> and <el-code>List</el-code> have a specified item Type, though with different syntax. The Type is specified in the form shown below e.g. <el-code>Stack&lt;of String&gt;, Queue&lt;of Int&gt;, Stack&lt;of (Float, Float)&gt;, Queue&lt;of Square&gt;</el-code>.</li>
<li>Both <el-code>Stack </el-code>and<el-code> Queue</el-code> are dynamically extensible, like <el-code>Array</el-code> and <el-code>List</el-code>. There is no need (or means to) specify a size limit as they will continue to expand until, eventually, the computer&#8217;s memory limit is reached.</li>
<li>This same syntax is used to specify the Type if you want to pass a <el-code>Stack</el-code> into a function, or specify it as the <el-code>return</el-code> Type.</li>
<li><el-code>Stack</el-code> and <el-code>Queue</el-code> have some methods in common: <el-code>length()</el-code>, and <el-code>peek()</el-code> which allows you to read the next item that would be removed, without actually removing it.</li>
<li>The names of the methods for adding or removing an item are different for <el-code>Stac</el-code>k and <el-code>Queue</el-code>, as summarised in this table:</li>
<p>
<table>
<tr><th></th>
<th>Stack</th>
<th>Queue</th>
</tr>
<tr><td>Create a new instance</td>
<td>let s be new Stack&lt;of Int&gt;()</td>
<td>let q be new Queue&lt;of Int&gt;()</td>
</tr>
<tr><td>Add an item (must be of correct Type)</td>
<td><el-code>call s.push(item)</el-code></td>
<td><el-code>call q.enqueue(item)</el-code></td>
</tr>
<tr><td>Remove the next item</td>
<td>variable item set to s.pop()</td>
<td>variable item set to q.dequeue()</td>
</tr>
<tr><td>View the next item to be removed without removing it</td>
<td>variable item set to s.peek()</td>
<td>variable item set to q.peek()</td>
</tr>
<tr><td>Read the current length</td>
<td>s.length()</td>
<td>q.length()</td>
</tr></table>
</p>

<p>Example use of a <el-code>Stack</el-code>:</p>
<el-code>main</el-code><br>
<el-code>&nbsp; let sk be new Stack&lt;of String&gt;()</el-code><br>
<el-code>&nbsp; print sk.length()</el-code><br>
<el-code>&nbsp; call sk.push("apple")</el-code><br>
<el-code>&nbsp; call sk.push("pear")</el-code><br>
<el-code>&nbsp; print sk.length()</el-code><br>
<el-code>&nbsp; print sk.peek()</el-code><br>
<el-code>&nbsp; variable fruit set to sk.pop()</el-code><br>
<el-code>&nbsp; print fruit</el-code><br>
<el-code>&nbsp; set fruit to sk.pop()</el-code><br>
<el-code>&nbsp; print fruit</el-code><br>
<el-code>&nbsp; print sk.length()</el-code><br>
<el-code>end main</el-code><br>

<p>Example use of a <el-code>Queue</el-code>:</p>
<el-code>main</el-code><br>
<el-code>&nbsp; let qu be new Queue&lt;of String&gt;()</el-code><br>
<el-code>&nbsp; print qu.length()</el-code><br>
<el-code>&nbsp; call qu.enqueue("apple")</el-code><br>
<el-code>&nbsp; call qu.enqueue("pear")</el-code><br>
<el-code>&nbsp; print qu.length()</el-code><br>
<el-code>&nbsp; print qu.peek()</el-code><br>
<el-code>&nbsp; variable fruit set to qu.dequeue()</el-code><br>
<el-code>&nbsp; print fruit</el-code><br>
<el-code>&nbsp; set fruit to qu.dequeue()</el-code><br>
<el-code>&nbsp; print fruit</el-code><br>
<el-code>&nbsp; print qu.length()</el-code><br>
<el-code>end main</el-code><br>

<h3>Set</h3>
<p>A <el-code>Set</el-code> is a standard data structure that works somewhat like a <el-code>List</el-code> with the important difference that in a <el-code>Set</el-code> a given element may appear only once. If an item being added to a <el-code>Set</el-code> is identical to an existing item in the <el-code>Set</el-code> then the <el-code>Set</el-code> remains the same length as before. </p>
<p>This enables a <el-code>Set</el-code> to work like a mathematical set so that it is possible to perform standard set operations such as <el-code>union</el-code> or <el-code>intersection</el-code>. For the same reason, a Set is an immutable data structure: there are no methods modify the set on which they are called, but several of them (including <el-code>add</el-code>, <el-code>remove</el-code>) return a new <el-code>Set</el-code> that is based on the original <el-code>Set</el-code> or <el-code>Set</el-code>s, with specified differences. </p>
<p>Example of use:</p>
<el-code>main</el-code><br>
<el-code>&nbsp; variable st set to new Set&lt;of Int&gt;()</el-code><br>
<el-code>&nbsp; set st to st.addFromList({3, 5, 7})</el-code><br>
<el-code>&nbsp; print st.length()</el-code><br>
<el-code>&nbsp; set st to st.add(7)</el-code><br>
<el-code>&nbsp; print st.length()</el-code><br>
<el-code>&nbsp; set st to st.remove(3)</el-code><br>
<el-code>&nbsp; print st.length()</el-code><br>
<el-code>&nbsp; set st to st.remove(3)</el-code><br>
<el-code>&nbsp; print st.length()</el-code><br>
<el-code>&nbsp; print st</el-code><br>
<el-code>end main</el-code><br>

<p>Notes</p>
<p>
When creating a <el-code>Set</el-code>, the Type of the elements must be specified in the form<br>
<el-code>Set&lt;of String&gt;</el-code>. This applies both when creating a new, empty set and when defining the Type of a parameter to be a <el-code>Set</el-code>.</p>
<li>You can add elements: individually with <el-code>add</el-code>, or multiple elements with <el-code>addFromList</el-code> and <el-code>addFromArray</el-code>.</li>
<li>You can create a new <el-code>Se</el-code>t from an existing <el-code>Array</el-code> or <el-code>List</el-code> by calling <el-code>.asSet()</el-code> on it.</li>
<p>Available dot methods on a <el-code>Set</el-code>, and the Type that each returns:</p>
<p>
<el-code>length()<br>
contains(item)<br>
add(item)<br>
addFromList(list)<br>
addFromArray(array)<br>
remove(item)<br>
union(anotherSet)<br>
difference(anotherSet)<br>
intersection(anotherSet)<br>
isDisjointFrom(anotherSet)<br>
isSubsetOf(anotherSet)<br>
isSupersetOf(anotherSet)<br>
asArray(anotherSet)<br>
asList(anotherSet)<br>
asString()<br>
</el-code><br>

<h2 id="HoF">Higher order functions (HoFs)</h2>
<p>These dot methods are called on any &#8216;iterable&#8217; Type, which includes <el-code>Array,</el-code> <el-code>List</el-code> and <el-code>String</el-code>. As &#8216;higher order functions&#8217; they take either a <el-code>lambda</el-code> or a function reference as one of their arguments: see <span class="Link">Passing a function as a reference</span>.</p>
<p>Important: Several of these methods return an abstract Type named <el-code>Iterable</el-code>. The result may easily be turned into a form that can be printed or passed into other functions, by appending <el-code>.asList()</el-code> or <el-code>.asArray()</el-code> at the end of the expression.</p>
<p>These are not yet fully documented but, for readers familiar with HoFs from another programming language, some examples are shown below.</p>

<h3>filter </h3>
<p>Usage:</p>
<el-code><br>
let matches be rules.filter(lambda r as Rule =&gt; <br>
&nbsp;&nbsp;(r.currentState is currentState) and (r.currentSymbol is tape[headPosition]))<br>
</el-code><br>

<h3>map</h3>
<p>Usage:</p>
<el-code>let next be cellRange.map(lambda n as Int =&gt; nextCellValue(cells, n))</el-code><br>

<h3>reduce</h3>
<p>Usage:</p>
<el-code><br>
let d2 be possibleAnswers.reduce(d, <br>
&nbsp;&nbsp;lambda dd as Dictionary&lt;of String, Int&gt;, possAnswer as String =&gt;<br>
&nbsp;&nbsp;incrementCount(dd, possAnswer, attempt))
</el-code><br>

<h3>max and min</h3>
<p>Both these functions may be applied to an <el-code>Iterable&lt;of Float&gt;</el-code>, e.g. an <el-code>Array&lt;of Float&gt;</el-code> or a <el-code>List&lt;of Float&gt;</el-code> and return the maximum or minimum value found therein.</p>

<el-code>variable a set to {33, 4, 0,99, 82, 55}</el-code><br>
<el-code>print "Max: {a.max()} Min: {a.min()}"</el-code><br>

<h3>maxBy and minBy</h3>
<p>Alternative implementations of <el-code>max</el-code> and <el-code>min</el-code>:</p>

<el-code>variable a set to {33, 4, 0,99, 82, 55}</el-code><br>
<el-code>print a.maxBy(lambda x as Int =&gt; x mod 10)</el-code><br>

<h3>any</h3>
<p>Returns <el-code>true</el-code> or <el-code>false</el-code> indicating whether any of the members of the <el-code>iterable</el-code> individually pass the test defined by the <el-code>lambda</el-code> (which itself returns a <el-code>Boolean</el-code>):</p>

<el-code>variable a set to {33, 4, 0,99, 82, 55}</el-code><br>
<el-code>print a.any(lambda x as Int =&gt; x &gt; 50)</el-code><br>

<h3>sortBy</h3>

<p>Additional sort methods will be introduced in a later Beta.</p>
<p>For now, <el-code>sortBy</el-code> takes a <el-code>lambda</el-code> that takes two arguments (of the same Type as that of the <el-code>iterable</el-code> being sorted) and compares them, returning an integer with one of the values -1, 0, or +1, to indicate whether the first argument should be placed respectively before, adjacent to or after the second argument in the sorted result, where &#8216;adjacent to&#8217; means it does not matter whether before or after):</p>
<el-code>variable source set to {11, 3, 7, 37, 17, 2, 19, 5, 23, 27, 31, 13}</el-code><br>
<el-code>print source.sortBy(lambda x as Int, y as Int =&gt; if x &gt; y then 1 else -1).asList()</el-code><br>

<p>The following are not HoFs, but are included here because they are most likely to be used with one of the HoFs listed above. </p>

<h3>range</h3>

<el-code>range(first as Int, last as Int) as Iterable&lt;of Int&gt;</el-code><br>

<p>returns an <el-code>iterable</el-code> containing all the integer values between the two argument values.</p>

<h2 id="MethDot">Dot methods that work on many different Types</h2>
<el-code>.asString()</el-code><br>
<el-code>.asIterable()</el-code><br>
<el-code><br>
.length()<br>
</p>
<p><el-code>.head()</el-code> returns the first item in an <el-code>Array</el-code> or a <el-code>List</el-code></p>

<hR><p align=left><a name="Bottom"></a>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Top">Top</a>
</body>
</html>
